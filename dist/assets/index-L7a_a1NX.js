(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Lf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function IT(){if(by)return ql;by=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Sy;function VT(){return Sy||(Sy=1,Lf.exports=IT()),Lf.exports}var K=VT(),zf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function OT(){if(Ry)return St;Ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,et={};function Z(C,$,it){this.props=C,this.context=$,this.refs=et,this.updater=it||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function gt(){}gt.prototype=Z.prototype;function pt(C,$,it){this.props=C,this.context=$,this.refs=et,this.updater=it||j}var lt=pt.prototype=new gt;lt.constructor=pt,X(lt,Z.prototype),lt.isPureReactComponent=!0;var vt=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function V(C,$,it,W,ht,Dt){return it=Dt.ref,{$$typeof:s,type:C,key:$,ref:it!==void 0?it:null,props:Dt}}function b(C,$){return V(C.type,$,void 0,void 0,void 0,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function I(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return $[it]})}var O=/\/+/g;function U(C,$){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):$.toString(36)}function w(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,$,it,W,ht){var Dt=typeof C;(Dt==="undefined"||Dt==="boolean")&&(C=null);var Et=!1;if(C===null)Et=!0;else switch(Dt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(C.$$typeof){case s:case e:Et=!0;break;case A:return Et=C._init,re(Et(C._payload),$,it,W,ht)}}if(Et)return ht=ht(C),Et=W===""?"."+U(C,0):W,vt(ht)?(it="",Et!=null&&(it=Et.replace(O,"$&/")+"/"),re(ht,$,it,"",function(qn){return qn})):ht!=null&&(D(ht)&&(ht=b(ht,it+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(O,"$&/")+"/")+Et)),$.push(ht)),1;Et=0;var De=W===""?".":W+":";if(vt(C))for(var $t=0;$t<C.length;$t++)W=C[$t],Dt=De+U(W,$t),Et+=re(W,$,it,Dt,ht);else if($t=N(C),typeof $t=="function")for(C=$t.call(C),$t=0;!(W=C.next()).done;)W=W.value,Dt=De+U(W,$t++),Et+=re(W,$,it,Dt,ht);else if(Dt==="object"){if(typeof C.then=="function")return re(Me(C),$,it,W,ht);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(C,$,it){if(C==null)return C;var W=[],ht=0;return re(C,W,"","",function(Dt){return $.call(it,Dt,ht++)}),W}function nt(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var ct=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return St.Children={map:H,forEach:function(C,$,it){H(C,function(){$.apply(this,arguments)},it)},count:function(C){var $=0;return H(C,function(){$++}),$},toArray:function(C){return H(C,function($){return $})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=i,St.Profiler=o,St.PureComponent=pt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return rt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,$,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=X({},C.props),ht=C.key,Dt=void 0;if($!=null)for(Et in $.ref!==void 0&&(Dt=void 0),$.key!==void 0&&(ht=""+$.key),$)!bt.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(W[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)W.children=it;else if(1<Et){for(var De=Array(Et),$t=0;$t<Et;$t++)De[$t]=arguments[$t+2];W.children=De}return V(C.type,ht,void 0,void 0,Dt,W)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,$,it){var W,ht={},Dt=null;if($!=null)for(W in $.key!==void 0&&(Dt=""+$.key),$)bt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=$[W]);var Et=arguments.length-2;if(Et===1)ht.children=it;else if(1<Et){for(var De=Array(Et),$t=0;$t<Et;$t++)De[$t]=arguments[$t+2];ht.children=De}if(C&&C.defaultProps)for(W in Et=C.defaultProps,Et)ht[W]===void 0&&(ht[W]=Et[W]);return V(C,Dt,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=D,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:nt}},St.memo=function(C,$){return{$$typeof:v,type:C,compare:$===void 0?null:$}},St.startTransition=function(C){var $=rt.T,it={};rt.T=it;try{var W=C(),ht=rt.S;ht!==null&&ht(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,ct)}catch(Dt){ct(Dt)}finally{rt.T=$}},St.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},St.use=function(C){return rt.H.use(C)},St.useActionState=function(C,$,it){return rt.H.useActionState(C,$,it)},St.useCallback=function(C,$){return rt.H.useCallback(C,$)},St.useContext=function(C){return rt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,$){return rt.H.useDeferredValue(C,$)},St.useEffect=function(C,$,it){var W=rt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,$)},St.useId=function(){return rt.H.useId()},St.useImperativeHandle=function(C,$,it){return rt.H.useImperativeHandle(C,$,it)},St.useInsertionEffect=function(C,$){return rt.H.useInsertionEffect(C,$)},St.useLayoutEffect=function(C,$){return rt.H.useLayoutEffect(C,$)},St.useMemo=function(C,$){return rt.H.useMemo(C,$)},St.useOptimistic=function(C,$){return rt.H.useOptimistic(C,$)},St.useReducer=function(C,$,it){return rt.H.useReducer(C,$,it)},St.useRef=function(C){return rt.H.useRef(C)},St.useState=function(C){return rt.H.useState(C)},St.useSyncExternalStore=function(C,$,it){return rt.H.useSyncExternalStore(C,$,it)},St.useTransition=function(){return rt.H.useTransition()},St.version="19.1.0",St}var wy;function Ad(){return wy||(wy=1,zf.exports=OT()),zf.exports}var zt=Ad(),kf={exports:{}},Hl={},Pf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function MT(){return Dy||(Dy=1,function(s){function e(H,nt){var ct=H.length;H.push(nt);t:for(;0<ct;){var Pt=ct-1>>>1,C=H[Pt];if(0<o(C,nt))H[Pt]=nt,H[ct]=C,ct=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ct=H.pop();if(ct!==nt){H[0]=ct;t:for(var Pt=0,C=H.length,$=C>>>1;Pt<$;){var it=2*(Pt+1)-1,W=H[it],ht=it+1,Dt=H[ht];if(0>o(W,ct))ht<C&&0>o(Dt,W)?(H[Pt]=Dt,H[ht]=ct,Pt=ht):(H[Pt]=W,H[it]=ct,Pt=it);else if(ht<C&&0>o(Dt,ct))H[Pt]=Dt,H[ht]=ct,Pt=ht;else break t}}return nt}function o(H,nt){var ct=H.sortIndex-nt.sortIndex;return ct!==0?ct:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,S=null,N=3,j=!1,X=!1,et=!1,Z=!1,gt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=H)a(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function rt(H){if(et=!1,vt(H),!X)if(i(_)!==null)X=!0,bt||(bt=!0,U());else{var nt=i(v);nt!==null&&re(rt,nt.startTime-H)}}var bt=!1,V=-1,b=5,D=-1;function I(){return Z?!0:!(s.unstable_now()-D<b)}function O(){if(Z=!1,bt){var H=s.unstable_now();D=H;var nt=!0;try{t:{X=!1,et&&(et=!1,pt(V),V=-1),j=!0;var ct=N;try{e:{for(vt(H),S=i(_);S!==null&&!(S.expirationTime>H&&I());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,N=S.priorityLevel;var C=Pt(S.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){S.callback=C,vt(H),nt=!0;break e}S===i(_)&&a(_),vt(H)}else a(_);S=i(_)}if(S!==null)nt=!0;else{var $=i(v);$!==null&&re(rt,$.startTime-H),nt=!1}}break t}finally{S=null,N=ct,j=!1}nt=void 0}}finally{nt?U():bt=!1}}}var U;if(typeof lt=="function")U=function(){lt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=O,U=function(){Me.postMessage(null)}}else U=function(){gt(O,0)};function re(H,nt){V=gt(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ct=N;N=nt;try{return H()}finally{N=ct}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=N;N=H;try{return nt()}finally{N=ct}},s.unstable_scheduleCallback=function(H,nt,ct){var Pt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Pt+ct:Pt):ct=Pt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ct+C,H={id:A++,callback:nt,priorityLevel:H,startTime:ct,expirationTime:C,sortIndex:-1},ct>Pt?(H.sortIndex=ct,e(v,H),i(_)===null&&H===i(v)&&(et?(pt(V),V=-1):et=!0,re(rt,ct-Pt))):(H.sortIndex=C,e(_,H),X||j||(X=!0,bt||(bt=!0,U()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var nt=N;return function(){var ct=N;N=nt;try{return H.apply(this,arguments)}finally{N=ct}}}}(Bf)),Bf}var Cy;function UT(){return Cy||(Cy=1,Pf.exports=MT()),Pf.exports}var jf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function LT(){if(Ny)return Fe;Ny=1;var s=Ad();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Fe.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,S=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:j}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Fe.requestFormReset=function(_){a.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var xy;function zT(){if(xy)return jf.exports;xy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jf.exports=LT(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function kT(){if(Iy)return Hl;Iy=1;var s=UT(),e=Ad(),i=zT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),gt=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case Z:return"Profiler";case et:return"StrictMode";case rt:return"Suspense";case bt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case lt:return(t.displayName||"Context")+".Provider";case pt:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function $(t){return{current:t}}function it(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function W(t,n){C++,Pt[C]=t.current,t.current=n}var ht=$(null),Dt=$(null),Et=$(null),De=$(null);function $t(t,n){switch(W(Et,n),W(Dt,t),W(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$p(n),t=Jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ht),W(ht,t)}function qn(){it(ht),it(Dt),it(Et)}function Hi(t){t.memoizedState!==null&&W(De,t);var n=ht.current,r=Jp(n,t.type);n!==r&&(W(Dt,t),W(ht,r))}function hi(t){Dt.current===t&&(it(ht),it(Dt)),De.current===t&&(it(De),zl._currentValue=ct)}var Or=Object.prototype.hasOwnProperty,Mr=s.unstable_scheduleCallback,Ur=s.unstable_cancelCallback,Ma=s.unstable_shouldYield,go=s.unstable_requestPaint,Tn=s.unstable_now,Uc=s.unstable_getCurrentPriorityLevel,Ua=s.unstable_ImmediatePriority,Rs=s.unstable_UserBlockingPriority,Lr=s.unstable_NormalPriority,Lc=s.unstable_LowPriority,ws=s.unstable_IdlePriority,La=s.log,po=s.unstable_setDisableYieldValue,se=null,Ht=null;function un(t){if(typeof La=="function"&&po(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var Ge=Math.clz32?Math.clz32:zr,yo=Math.log,zc=Math.LN2;function zr(t){return t>>>=0,t===0?32:31-(yo(t)/zc|0)|0}var kr=256,Pr=4194304;function Ln(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ds(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Ln(l):(y&=E,y!==0?c=Ln(y):r||(r=E&~t,r!==0&&(c=Ln(r))))):(E=l&~f,E!==0?c=Ln(E):y!==0?c=Ln(y):r||(r=l&~t,r!==0&&(c=Ln(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Br(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function za(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=kr;return kr<<=1,(kr&4194048)===0&&(kr=256),t}function Pa(){var t=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),t}function fi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ba(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,k=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-Ge(r),F=1<<G;E[G]=0,R[G]=-1;var P=k[G];if(P!==null)for(k[G]=null,G=0;G<P.length;G++){var B=P[G];B!==null&&(B.lane&=-536870913)}r&=~F}l!==0&&Hn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Hn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ja(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:yy(t.type))}function _o(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var Wt=Math.random().toString(36).slice(2),ve="__reactFiber$"+Wt,me="__reactProps$"+Wt,An="__reactContainer$"+Wt,qa="__reactEvents$"+Wt,kc="__reactListeners$"+Wt,Fi="__reactHandles$"+Wt,vo="__reactResources$"+Wt,jr="__reactMarker$"+Wt;function Yi(t){delete t[ve],delete t[me],delete t[qa],delete t[kc],delete t[Fi]}function mi(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[An]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ny(t);t!==null;){if(r=t[ve])return r;t=ny(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[ve]||t[An]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ze(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[jr]=!0}var Ha=new Set,Ns={};function zn(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(Ns[t]=n,t=0;t<n.length;t++)Ha.add(n[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},qr={};function Ao(t){return Or.call(qr,t)?!0:Or.call(To,t)?!1:Eo.test(t)?qr[t]=!0:(To[t]=!0,!1)}function Ki(t,n,r){if(Ao(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Fn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Hr,bo;function pi(t){if(Hr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Hr=n&&n[1]||"",bo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+t+bo}var xs=!1;function Is(t,n){if(!t||xs)return"";xs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var P=B}Reflect.construct(t,[],F)}else{try{F.call()}catch(B){P=B}t.call(F.prototype)}}else{try{throw Error()}catch(B){P=B}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),k=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===k.length)for(l=R.length-1,c=k.length-1;1<=l&&0<=c&&R[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==k[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{xs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?pi(r):""}function Ga(t){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Is(t.type,!1);case 11:return Is(t.type.render,!1);case 1:return Is(t.type,!0);case 31:return pi("Activity");default:return""}}function Vs(t){try{var n="";do n+=Ga(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pc(t){var n=Qa(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Os(t){t._valueTracker||(t._valueTracker=Pc(t))}function Fa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Qa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bc=/[\n"\\]/g;function ge(t){return t.replace(Bc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Xi(t,y,$e(n)):r!=null?Xi(t,y,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Qr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Xi(t,n,r){n==="number"&&Gr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function yi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function Fr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function bn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Yr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ya(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&So(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&So(t,f,n[f])}function Ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return qc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ei=null;function Xa(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(cn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(a(90));cn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Fa(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yi(t,!!r.multiple,n,!1)}}}var Yn=!1;function Ro(t,n,r){if(Yn)return t(n,r);Yn=!0;try{var l=t(n);return l}finally{if(Yn=!1,(vi!==null||Ei!==null)&&(_u(),vi&&(n=vi,t=Ei,Ei=vi=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function Kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(kn)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Rn=!1}var Kn=null,Zi=null,Ti=null;function Za(){if(Ti)return Ti;var t,n=Zi,r=n.length,l,c="value"in Kn?Kn.value:Kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return Ti=c.slice(t,1<l?1-l:void 0)}function Xn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function $a(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:$a,this.isPropagationStopped=$a,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Ce(jt),Zr=A({},jt,{view:0,detail:0}),wo=Ce(Zr),Ls,zs,$n,$r=A({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(Ls=t.screenX-$n.screenX,zs=t.screenY-$n.screenY):zs=Ls=0,$n=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),wn=Ce($r),Do=A({},$r,{dataTransfer:0}),Hc=Ce(Do),Jr=A({},Zr,{relatedTarget:0}),ks=Ce(Jr),Ja=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=Ce(Ja),Co=A({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bs=Ce(Co),Gc=A({},jt,{data:0}),Wa=Ce(Gc),Wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xo[t])?!!n[t]:!1}function ts(){return tl}var Io=A({},Zr,{key:function(t){if(t.key){var n=Wr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?No[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),js=Ce(Io),Vo=A({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ce(Vo),Ai=A({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),Oo=Ce(Ai),Mo=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=Ce(Mo),Lo=A({},$r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Ce(Lo),Je=A({},jt,{newState:0,oldState:0}),zo=Ce(Je),ko=[9,13,27,32],Jn=kn&&"CompositionEvent"in window,u=null;kn&&"documentMode"in document&&(u=document.documentMode);var m=kn&&"TextEvent"in window&&!u,p=kn&&(!Jn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Ee(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Jn&&q(t,n)?(t=Za(),Ti=Zi=Kn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function bi(t,n,r,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=Su(n,"onChange"),0<n.length&&(r=new Us("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Wn=null;function nl(t){Fp(t,0)}function Po(t){var n=Qn(t);if(Fa(n))return t}function dm(t,n){if(t==="change")return n}var mm=!1;if(kn){var Qc;if(kn){var Fc="oninput"in document;if(!Fc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Fc=typeof gm.oninput=="function"}Qc=Fc}else Qc=!1;mm=Qc&&(!document.documentMode||9<document.documentMode)}function pm(){Le&&(Le.detachEvent("onpropertychange",ym),Wn=Le=null)}function ym(t){if(t.propertyName==="value"&&Po(Wn)){var n=[];bi(n,Wn,t,Sn(t)),Ro(nl,n)}}function lE(t,n,r){t==="focusin"?(pm(),Le=n,Wn=r,Le.attachEvent("onpropertychange",ym)):t==="focusout"&&pm()}function oE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(Wn)}function uE(t,n){if(t==="click")return Po(n)}function cE(t,n){if(t==="input"||t==="change")return Po(n)}function hE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:hE;function il(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Or.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,n){var r=_m(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_m(r)}}function Em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Gr(t.document)}return n}function Yc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fE=kn&&"documentMode"in document&&11>=document.documentMode,Hs=null,Kc=null,rl=null,Xc=!1;function Am(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||Hs==null||Hs!==Gr(l)||(l=Hs,"selectionStart"in l&&Yc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Su(Kc,"onSelect"),0<l.length&&(n=new Us("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Hs)))}function es(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Gs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Zc={},bm={};kn&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ns(t){if(Zc[t])return Zc[t];if(!Gs[t])return t;var n=Gs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in bm)return Zc[t]=n[r];return t}var Sm=ns("animationend"),Rm=ns("animationiteration"),wm=ns("animationstart"),dE=ns("transitionrun"),mE=ns("transitionstart"),gE=ns("transitioncancel"),Dm=ns("transitionend"),Cm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Pn(t,n){Cm.set(t,n),zn(n,[t])}var Nm=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var r=Nm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Vs(n)},Nm.set(t,n),n)}return{value:t,source:n,stack:Vs(n)}}var Cn=[],Qs=0,Jc=0;function Bo(){for(var t=Qs,n=Jc=Qs=0;n<t;){var r=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&xm(r,c,f)}}function jo(t,n,r,l){Cn[Qs++]=t,Cn[Qs++]=n,Cn[Qs++]=r,Cn[Qs++]=l,Jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wc(t,n,r,l){return jo(t,n,r,l),qo(t)}function Fs(t,n){return jo(t,null,null,n),qo(t)}function xm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function qo(t){if(50<Nl)throw Nl=0,af=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function pE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,r,l){return new pE(t,n,r,l)}function th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,n){var r=t.alternate;return r===null?(r=fn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Im(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")th(t)&&(y=1);else if(typeof t=="string")y=_T(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=fn(31,r,n,c),t.elementType=D,t.lanes=f,t;case X:return is(r.children,c,f,n);case et:y=8,c|=24;break;case Z:return t=fn(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case rt:return t=fn(13,r,n,c),t.elementType=rt,t.lanes=f,t;case bt:return t=fn(19,r,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gt:case lt:y=10;break t;case pt:y=9;break t;case vt:y=11;break t;case V:y=14;break t;case b:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=fn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function is(t,n,r,l){return t=fn(7,t,l,n),t.lanes=r,t}function eh(t,n,r){return t=fn(6,t,null,n),t.lanes=r,t}function nh(t,n,r){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ks=[],Xs=0,Go=null,Qo=0,Nn=[],xn=0,rs=null,Ri=1,wi="";function ss(t,n){Ks[Xs++]=Qo,Ks[Xs++]=Go,Go=t,Qo=n}function Vm(t,n,r){Nn[xn++]=Ri,Nn[xn++]=wi,Nn[xn++]=rs,rs=t;var l=Ri;t=wi;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ri=1<<32-Ge(n)+c|r<<c|l,wi=f+t}else Ri=1<<f|r<<c|l,wi=t}function ih(t){t.return!==null&&(ss(t,1),Vm(t,1,0))}function rh(t){for(;t===Go;)Go=Ks[--Xs],Ks[Xs]=null,Qo=Ks[--Xs],Ks[Xs]=null;for(;t===rs;)rs=Nn[--xn],Nn[xn]=null,wi=Nn[--xn],Nn[xn]=null,Ri=Nn[--xn],Nn[xn]=null}var We=null,ae=null,Bt=!1,as=null,ti=!1,sh=Error(a(519));function ls(t){var n=Error(a(418,""));throw ll(Dn(n,t)),sh}function Om(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[me]=l,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<Il.length;r++)xt(Il[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Os(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Fr(n,l.value,l.defaultValue,l.children),Os(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Zp(n.textContent,r)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||ls(t)}function Mm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:We=We.return}}function sl(t){if(t!==We)return!1;if(!Bt)return Mm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Af(t.type,t.memoizedProps)),r=!r),r&&ae&&ls(t),Mm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=jn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,fr(t.type)?(t=wf,wf=null,ae=t):ae=n):ae=We?jn(t.stateNode.nextSibling):null;return!0}function al(){ae=We=null,Bt=!1}function Um(){var t=as;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),as=null),t}function ll(t){as===null?as=[t]:as.push(t)}var ah=$(null),os=null,Di=null;function $i(t,n,r){W(ah,n._currentValue),n._currentValue=r}function Ci(t){t._currentValue=ah.current,it(ah)}function lh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function oh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),lh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),lh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;hn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&oh(n,t,r,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){os=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return Lm(os,t)}function Yo(t,n){return os===null&&us(t),Lm(t,n)}function Lm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Di===null){if(t===null)throw Error(a(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return r}var yE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},_E=s.unstable_scheduleCallback,vE=s.unstable_NormalPriority,Ae={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new yE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&_E(vE,function(){t.controller.abort()})}var cl=null,ch=0,Zs=0,$s=null;function EE(t,n){if(cl===null){var r=cl=[];ch=0,Zs=df(),$s={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ch++,n.then(zm,zm),n}function zm(){if(--ch===0&&cl!==null){$s!==null&&($s.status="fulfilled");var t=cl;cl=null,Zs=0,$s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function TE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var km=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&EE(t,n),km!==null&&km(t,n)};var cs=$(null);function hh(){var t=cs.current;return t!==null?t:Jt.pooledCache}function Ko(t,n){n===null?W(cs,cs.current):W(cs,n.pool)}function Pm(){var t=hh();return t===null?null:{parent:Ae._currentValue,pool:t}}var hl=Error(a(460)),Bm=Error(a(474)),Xo=Error(a(542)),fh={then:function(){}};function jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function qm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t}throw fl=n,hl}}var fl=null;function Hm(){if(fl===null)throw Error(a(459));var t=fl;return fl=null,t}function Gm(t){if(t===hl||t===Xo)throw Error(a(483))}var Ji=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),xm(t,null,r),n}return jo(t,l,n,r),qo(t)}function dl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ja(t,r)}}function gh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ph=!1;function ml(){if(ph){var t=$s;if(t!==null)throw t}}function gl(t,n,r,l){ph=!1;var c=t.updateQueue;Ji=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,k=R.next;R.next=null,y===null?f=k:y.next=k,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;y=0,G=k=R=null,E=f;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(Mt&P)===P:(l&P)===P){P!==0&&P===Zs&&(ph=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,dt=E;P=n;var Xt=r;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){F=yt.call(Xt,F,P);break t}F=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,P=typeof yt=="function"?yt.call(Xt,F,P):yt,P==null)break t;F=A({},F,P);break t;case 2:Ji=!0}}P=E.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=B,R=F):G=G.next=B,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(R=F),c.baseState=R,c.firstBaseUpdate=k,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),or|=y,t.lanes=y,t.memoizedState=F}}function Qm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qm(r[t],n)}var Js=$(null),$o=$(0);function Ym(t,n){t=Ui,W($o,t),W(Js,n),Ui=t|n.baseLanes}function yh(){W($o,Ui),W(Js,Js.current)}function _h(){Ui=$o.current,it(Js),it($o)}var er=0,Rt=null,Yt=null,pe=null,Jo=!1,Ws=!1,hs=!1,Wo=0,pl=0,ta=null,AE=0;function he(){throw Error(a(321))}function vh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!hn(t[r],n[r]))return!1;return!0}function Eh(t,n,r,l,c,f){return er=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?xg:Ig,hs=!1,f=r(l,c),hs=!1,Ws&&(f=Xm(n,r,l,c)),Km(t),f}function Km(t){H.H=su;var n=Yt!==null&&Yt.next!==null;if(er=0,pe=Yt=Rt=null,Jo=!1,pl=0,ta=null,n)throw Error(a(300));t===null||xe||(t=t.dependencies,t!==null&&Fo(t)&&(xe=!0))}function Xm(t,n,r,l){Rt=t;var c=0;do{if(Ws&&(ta=null),pl=0,Ws=!1,25<=c)throw Error(a(301));if(c+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=NE,f=n(r,l)}while(Ws);return f}function bE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Th(){var t=Wo!==0;return Wo=0,t}function Ah(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bh(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}er=0,pe=Yt=Rt=null,Ws=!1,pl=Wo=0,ta=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?Rt.memoizedState=pe=t:pe=pe.next=t}return pe}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,ta===null&&(ta=[]),t=qm(ta,t,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?xg:Ig),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===lt)return Qe(t)}throw Error(a(438,String(t)))}function Rh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Sh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Ni(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=ye();return wh(n,Yt,t)}function wh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,k=n,G=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Mt&F)===F:(er&F)===F){var P=k.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===Zs&&(G=!0);else if((er&P)===P){k=k.next,P===Zs&&(G=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=F,y=f):R=R.next=F,Rt.lanes|=P,or|=P;F=k.action,hs&&r(f,F),f=k.hasEagerState?k.eagerState:r(f,F)}else P={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=P,y=f):R=R.next=P,Rt.lanes|=F,or|=F;k=k.next}while(k!==null&&k!==n);if(R===null?y=f:R.next=E,!hn(f,t.memoizedState)&&(xe=!0,G&&(r=$s,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Dh(t){var n=ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);hn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Zm(t,n,r){var l=Rt,c=ye(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!hn((Yt||c).memoizedState,r);y&&(c.memoizedState=r,xe=!0),c=c.queue;var E=Wm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ea(9,nu(),Jm.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(er&124)!==0||$m(l,n,r)}return r}function $m(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Sh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Jm(t,n,r,l){n.value=r,n.getSnapshot=l,tg(n)&&eg(t)}function Wm(t,n,r){return r(function(){tg(n)&&eg(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!hn(t,r)}catch{return!0}}function eg(t){var n=Fs(t,2);n!==null&&yn(n,t,2)}function Ch(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),hs){un(!0);try{r()}finally{un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function ng(t,n,r,l){return t.baseState=r,wh(t,Yt,typeof l=="function"?l:Ni)}function SE(t,n,r,l,c){if(ru(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ig(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),R=H.S;R!==null&&R(y,E),rg(t,n,E)}catch(k){Nh(t,n,k)}finally{H.T=f}}else try{f=r(c,l),rg(t,n,f)}catch(k){Nh(t,n,k)}}function rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){sg(t,n,l)},function(l){return Nh(t,n,l)}):sg(t,n,r)}function sg(t,n,r){n.status="fulfilled",n.value=r,ag(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ig(t,r)))}function Nh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var l=Rt;if(Bt){if(ae){e:{for(var c=ae,f=ti;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=jn(c.nextSibling),l=c.data==="F!";break t}}ls(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},r.queue=l,r=Dg.bind(null,Rt,l),l.dispatch=r,l=Ch(!1),f=Mh.bind(null,Rt,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=SE.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function ug(t){var n=ye();return cg(n,Yt,t)}function cg(t,n,r){if(n=wh(t,n,lg)[0],t=eu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(y){throw y===hl?Xo:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,ea(9,nu(),RE.bind(null,c,r),null)),[l,f,t]}function RE(t,n){t.action=n}function hg(t){var n=ye(),r=Yt;if(r!==null)return cg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ea(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Sh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function nu(){return{destroy:void 0,resource:void 0}}function fg(){return ye().memoizedState}function iu(t,n,r,l){var c=nn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=ea(1|n,nu(),r,l)}function _l(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&vh(l,Yt.memoizedState.deps)?c.memoizedState=ea(n,f,r,l):(Rt.flags|=t,c.memoizedState=ea(1|n,f,r,l))}function dg(t,n){iu(8390656,8,t,n)}function mg(t,n){_l(2048,8,t,n)}function gg(t,n){return _l(4,2,t,n)}function pg(t,n){return _l(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,r){r=r!=null?r.concat([t]):null,_l(4,4,yg.bind(null,n,t),r)}function xh(){}function vg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&vh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Eg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&vh(n,l[1]))return l[0];if(l=t(),hs){un(!0);try{t()}finally{un(!1)}}return r.memoizedState=[l,n],l}function Ih(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=bp(),Rt.lanes|=t,or|=t,r)}function Tg(t,n,r,l){return hn(r,n)?r:Js.current!==null?(t=Ih(t,r,l),hn(t,n)||(xe=!0),t):(er&42)===0?(xe=!0,t.memoizedState=r):(t=bp(),Rt.lanes|=t,or|=t,n)}function Ag(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Mh(t,!1,n,r);try{var R=c(),k=H.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=TE(R,l);vl(t,n,G,pn(t))}else vl(t,n,l,pn(t))}catch(F){vl(t,n,{then:function(){},status:"rejected",reason:F},pn())}finally{nt.p=f,H.T=y}}function wE(){}function Vh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=bg(t).queue;Ag(t,c,n,ct,r===null?wE:function(){return Sg(t),r(l)})}function bg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sg(t){var n=bg(t).next.queue;vl(t,n,{},pn())}function Oh(){return Qe(zl)}function Rg(){return ye().memoizedState}function wg(){return ye().memoizedState}function DE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=pn();t=Wi(r);var l=tr(n,t,r);l!==null&&(yn(l,n,r),dl(l,n,r)),n={cache:uh()},t.payload=n;return}n=n.return}}function CE(t,n,r){var l=pn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ru(t)?Cg(n,r):(r=Wc(t,n,r,l),r!==null&&(yn(r,t,l),Ng(r,n,l)))}function Dg(t,n,r){var l=pn();vl(t,n,r,l)}function vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ru(t))Cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,hn(E,y))return jo(t,n,c,0),Jt===null&&Bo(),!1}catch{}finally{}if(r=Wc(t,n,c,l),r!==null)return yn(r,t,l),Ng(r,n,l),!0}return!1}function Mh(t,n,r,l){if(l={lane:2,revertLane:df(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(a(479))}else n=Wc(t,r,l,2),n!==null&&yn(n,t,2)}function ru(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Cg(t,n){Ws=Jo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ng(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ja(t,r)}}var su={readContext:Qe,use:tu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},xg={readContext:Qe,use:tu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Qe,useEffect:dg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,iu(4194308,4,yg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(hs){un(!0);try{t()}finally{un(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var c=r(n);if(hs){un(!0);try{r(n)}finally{un(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=CE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,r=Dg.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xh,useDeferredValue:function(t,n){var r=nn();return Ih(r,t,n)},useTransition:function(){var t=Ch(!1);return t=Ag.bind(null,Rt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=nn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Mt&124)!==0||$m(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,dg(Wm.bind(null,l,f,t),[t]),l.flags|=2048,ea(9,nu(),Jm.bind(null,l,f,r,n),null),r},useId:function(){var t=nn(),n=Jt.identifierPrefix;if(Bt){var r=wi,l=Ri;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Wo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=AE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Oh,useFormState:og,useActionState:og,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Rh,useCacheRefresh:function(){return nn().memoizedState=DE.bind(null,Rt)}},Ig={readContext:Qe,use:tu,useCallback:vg,useContext:Qe,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:eu,useRef:fg,useState:function(){return eu(Ni)},useDebugValue:xh,useDeferredValue:function(t,n){var r=ye();return Tg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=eu(Ni)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Zm,useId:Rg,useHostTransitionStatus:Oh,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var r=ye();return ng(r,Yt,t,n)},useMemoCache:Rh,useCacheRefresh:wg},NE={readContext:Qe,use:tu,useCallback:vg,useContext:Qe,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:Dh,useRef:fg,useState:function(){return Dh(Ni)},useDebugValue:xh,useDeferredValue:function(t,n){var r=ye();return Yt===null?Ih(r,t,n):Tg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Dh(Ni)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Zm,useId:Rg,useHostTransitionStatus:Oh,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var r=ye();return Yt!==null?ng(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:wg},na=null,El=0;function au(t){var n=El;return El+=1,na===null&&(na=[]),qm(na,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lu(t,n){throw n.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vg(t){var n=t._init;return n(t._payload)}function Og(t){function n(M,x){if(t){var z=M.deletions;z===null?(M.deletions=[x],M.flags|=16):z.push(x)}}function r(M,x){if(!t)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function c(M,x){return M=Si(M,x),M.index=0,M.sibling=null,M}function f(M,x,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<x?(M.flags|=67108866,x):z):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,x,z,Q){return x===null||x.tag!==6?(x=eh(z,M.mode,Q),x.return=M,x):(x=c(x,z),x.return=M,x)}function R(M,x,z,Q){var at=z.type;return at===X?G(M,x,z.props.children,Q,z.key):x!==null&&(x.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Vg(at)===x.type)?(x=c(x,z.props),Tl(x,z),x.return=M,x):(x=Ho(z.type,z.key,z.props,null,M.mode,Q),Tl(x,z),x.return=M,x)}function k(M,x,z,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=nh(z,M.mode,Q),x.return=M,x):(x=c(x,z.children||[]),x.return=M,x)}function G(M,x,z,Q,at){return x===null||x.tag!==7?(x=is(z,M.mode,Q,at),x.return=M,x):(x=c(x,z),x.return=M,x)}function F(M,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=eh(""+x,M.mode,z),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case N:return z=Ho(x.type,x.key,x.props,null,M.mode,z),Tl(z,x),z.return=M,z;case j:return x=nh(x,M.mode,z),x.return=M,x;case b:var Q=x._init;return x=Q(x._payload),F(M,x,z)}if(re(x)||U(x))return x=is(x,M.mode,z,null),x.return=M,x;if(typeof x.then=="function")return F(M,au(x),z);if(x.$$typeof===lt)return F(M,Yo(M,x),z);lu(M,x)}return null}function P(M,x,z,Q){var at=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,x,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===at?R(M,x,z,Q):null;case j:return z.key===at?k(M,x,z,Q):null;case b:return at=z._init,z=at(z._payload),P(M,x,z,Q)}if(re(z)||U(z))return at!==null?null:G(M,x,z,Q,null);if(typeof z.then=="function")return P(M,x,au(z),Q);if(z.$$typeof===lt)return P(M,x,Yo(M,z),Q);lu(M,z)}return null}function B(M,x,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(x,M,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return M=M.get(Q.key===null?z:Q.key)||null,R(x,M,Q,at);case j:return M=M.get(Q.key===null?z:Q.key)||null,k(x,M,Q,at);case b:var Ct=Q._init;return Q=Ct(Q._payload),B(M,x,z,Q,at)}if(re(Q)||U(Q))return M=M.get(z)||null,G(x,M,Q,at,null);if(typeof Q.then=="function")return B(M,x,z,au(Q),at);if(Q.$$typeof===lt)return B(M,x,z,Yo(x,Q),at);lu(x,Q)}return null}function yt(M,x,z,Q){for(var at=null,Ct=null,ot=x,mt=x=0,Ve=null;ot!==null&&mt<z.length;mt++){ot.index>mt?(Ve=ot,ot=null):Ve=ot.sibling;var kt=P(M,ot,z[mt],Q);if(kt===null){ot===null&&(ot=Ve);break}t&&ot&&kt.alternate===null&&n(M,ot),x=f(kt,x,mt),Ct===null?at=kt:Ct.sibling=kt,Ct=kt,ot=Ve}if(mt===z.length)return r(M,ot),Bt&&ss(M,mt),at;if(ot===null){for(;mt<z.length;mt++)ot=F(M,z[mt],Q),ot!==null&&(x=f(ot,x,mt),Ct===null?at=ot:Ct.sibling=ot,Ct=ot);return Bt&&ss(M,mt),at}for(ot=l(ot);mt<z.length;mt++)Ve=B(ot,M,mt,z[mt],Q),Ve!==null&&(t&&Ve.alternate!==null&&ot.delete(Ve.key===null?mt:Ve.key),x=f(Ve,x,mt),Ct===null?at=Ve:Ct.sibling=Ve,Ct=Ve);return t&&ot.forEach(function(yr){return n(M,yr)}),Bt&&ss(M,mt),at}function dt(M,x,z,Q){if(z==null)throw Error(a(151));for(var at=null,Ct=null,ot=x,mt=x=0,Ve=null,kt=z.next();ot!==null&&!kt.done;mt++,kt=z.next()){ot.index>mt?(Ve=ot,ot=null):Ve=ot.sibling;var yr=P(M,ot,kt.value,Q);if(yr===null){ot===null&&(ot=Ve);break}t&&ot&&yr.alternate===null&&n(M,ot),x=f(yr,x,mt),Ct===null?at=yr:Ct.sibling=yr,Ct=yr,ot=Ve}if(kt.done)return r(M,ot),Bt&&ss(M,mt),at;if(ot===null){for(;!kt.done;mt++,kt=z.next())kt=F(M,kt.value,Q),kt!==null&&(x=f(kt,x,mt),Ct===null?at=kt:Ct.sibling=kt,Ct=kt);return Bt&&ss(M,mt),at}for(ot=l(ot);!kt.done;mt++,kt=z.next())kt=B(ot,M,mt,kt.value,Q),kt!==null&&(t&&kt.alternate!==null&&ot.delete(kt.key===null?mt:kt.key),x=f(kt,x,mt),Ct===null?at=kt:Ct.sibling=kt,Ct=kt);return t&&ot.forEach(function(xT){return n(M,xT)}),Bt&&ss(M,mt),at}function Xt(M,x,z,Q){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:t:{for(var at=z.key;x!==null;){if(x.key===at){if(at=z.type,at===X){if(x.tag===7){r(M,x.sibling),Q=c(x,z.props.children),Q.return=M,M=Q;break t}}else if(x.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Vg(at)===x.type){r(M,x.sibling),Q=c(x,z.props),Tl(Q,z),Q.return=M,M=Q;break t}r(M,x);break}else n(M,x);x=x.sibling}z.type===X?(Q=is(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Ho(z.type,z.key,z.props,null,M.mode,Q),Tl(Q,z),Q.return=M,M=Q)}return y(M);case j:t:{for(at=z.key;x!==null;){if(x.key===at)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){r(M,x.sibling),Q=c(x,z.children||[]),Q.return=M,M=Q;break t}else{r(M,x);break}else n(M,x);x=x.sibling}Q=nh(z,M.mode,Q),Q.return=M,M=Q}return y(M);case b:return at=z._init,z=at(z._payload),Xt(M,x,z,Q)}if(re(z))return yt(M,x,z,Q);if(U(z)){if(at=U(z),typeof at!="function")throw Error(a(150));return z=at.call(z),dt(M,x,z,Q)}if(typeof z.then=="function")return Xt(M,x,au(z),Q);if(z.$$typeof===lt)return Xt(M,x,Yo(M,z),Q);lu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(r(M,x.sibling),Q=c(x,z),Q.return=M,M=Q):(r(M,x),Q=eh(z,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,x)}return function(M,x,z,Q){try{El=0;var at=Xt(M,x,z,Q);return na=null,at}catch(ot){if(ot===hl||ot===Xo)throw ot;var Ct=fn(29,ot,null,M.mode);return Ct.lanes=Q,Ct.return=M,Ct}finally{}}}var ia=Og(!0),Mg=Og(!1),In=$(null),ei=null;function nr(t){var n=t.alternate;W(be,be.current&1),W(In,t),ei===null&&(n===null||Js.current!==null||n.memoizedState!==null)&&(ei=t)}function Ug(t){if(t.tag===22){if(W(be,be.current),W(In,t),ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ei=t)}}else ir()}function ir(){W(be,be.current),W(In,In.current)}function xi(t){it(In),ei===t&&(ei=null),it(be)}var be=$(0);function ou(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Rf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Uh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=pn(),c=Wi(l);c.payload=n,r!=null&&(c.callback=r),n=tr(t,c,l),n!==null&&(yn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=pn(),c=Wi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=tr(t,c,l),n!==null&&(yn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=pn(),l=Wi(r);l.tag=2,n!=null&&(l.callback=n),n=tr(t,l,r),n!==null&&(yn(n,t,r),dl(n,t,r))}};function Lg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function zg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Lh.enqueueReplaceState(n,n.state,null)}function fs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){uu(t)}function Pg(t){console.error(t)}function Bg(t){uu(t)}function cu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zh(t,n,r){return r=Wi(r),r.tag=3,r.payload={element:null},r.callback=function(){cu(t,n)},r}function qg(t){return t=Wi(t),t.tag=3,t}function Hg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){jg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){jg(n,r,l),typeof c!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=In.current,r!==null){switch(r.tag){case 13:return ei===null?of():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===fh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cf(t,l,c)),!1;case 22:return r.flags|=65536,l===fh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cf(t,l,c)),!1}throw Error(a(435,r.tag))}return cf(t,l,c),of(),!1}if(Bt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==sh&&(t=Error(a(422),{cause:l}),ll(Dn(t,r)))):(l!==sh&&(n=Error(a(423),{cause:l}),ll(Dn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Dn(l,r),c=zh(t.stateNode,l,c),gh(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=Dn(f,r),Cl===null?Cl=[f]:Cl.push(f),le!==4&&(le=2),n===null)return!0;l=Dn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=zh(r.stateNode,l,t),gh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=qg(c),Hg(c,t,r,l),gh(r,c),!1}r=r.return}while(r!==null);return!1}var Gg=Error(a(461)),xe=!1;function ze(t,n,r,l){n.child=t===null?Mg(n,null,r,l):ia(n,t.child,r,l)}function Qg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return us(n),l=Eh(t,n,r,y,f,c),E=Th(),t!==null&&!xe?(Ah(t,n,c),Ii(t,n,c)):(Bt&&E&&ih(n),n.flags|=1,ze(t,n,l,c),n.child)}function Fg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!th(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,l,c)):(t=Ho(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(y,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=Si(f,l),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,Qh(t,c))(t.flags&131072)!==0&&(xe=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return kh(t,n,r,l,c)}function Kg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Xg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,f!==null?f.cachePool:null),f!==null?Ym(n,f):yh(),Ug(n);else return n.lanes=n.childLanes=536870912,Xg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ko(n,f.cachePool),Ym(n,f),ir(),n.memoizedState=null):(t!==null&&Ko(n,null),yh(),ir());return ze(t,n,c,r),n.child}function Xg(t,n,r,l){var c=hh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ko(n,null),yh(),Ug(n),t!==null&&ol(t,n,l,!0),null}function hu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function kh(t,n,r,l,c){return us(n),r=Eh(t,n,r,l,void 0,c),l=Th(),t!==null&&!xe?(Ah(t,n,c),Ii(t,n,c)):(Bt&&l&&ih(n),n.flags|=1,ze(t,n,r,c),n.child)}function Zg(t,n,r,l,c,f){return us(n),n.updateQueue=null,r=Xm(n,l,r,c),Km(t),l=Th(),t!==null&&!xe?(Ah(t,n,f),Ii(t,n,f)):(Bt&&l&&ih(n),n.flags|=1,ze(t,n,r,f),n.child)}function $g(t,n,r,l,c){if(us(n),n.stateNode===null){var f=Ys,y=r.contextType;typeof y=="object"&&y!==null&&(f=Qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},dh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Qe(y):Ys,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Uh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Lh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=fs(r,E);f.props=R;var k=f.context,G=r.contextType;y=Ys,typeof G=="object"&&G!==null&&(y=Qe(G));var F=r.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==y)&&zg(n,f,l,y),Ji=!1;var P=n.memoizedState;f.state=P,gl(n,l,f,c),ml(),k=n.memoizedState,E||P!==k||Ji?(typeof F=="function"&&(Uh(n,r,F,l),k=n.memoizedState),(R=Ji||Lg(n,r,R,l,P,k,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mh(t,n),y=n.memoizedProps,G=fs(r,y),f.props=G,F=n.pendingProps,P=f.context,k=r.contextType,R=Ys,typeof k=="object"&&k!==null&&(R=Qe(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==R)&&zg(n,f,l,R),Ji=!1,P=n.memoizedState,f.state=P,gl(n,l,f,c),ml();var B=n.memoizedState;y!==F||P!==B||Ji||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(Uh(n,r,E,l),B=n.memoizedState),(G=Ji||Lg(n,r,G,l,P,B,R)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,c),n.child=ia(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ii(t,n,c),t}function Jg(t,n,r,l){return al(),n.flags|=256,ze(t,n,r,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(t){return{baseLanes:t,cachePool:Pm()}}function jh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function Wg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?nr(n):ir(),Bt){var E=ae,R;if(R=E){t:{for(R=E,E=ti;R.nodeType!==8;){if(!E){E=null;break t}if(R=jn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:rs!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},R=fn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,ae=null,R=!0):R=!1}R||ls(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Rf(E)?n.lanes=32:n.lanes=536870912,null;xi(n)}return E=l.children,l=l.fallback,c?(ir(),c=n.mode,E=fu({mode:"hidden",children:E},c),l=is(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Bh(r),c.childLanes=jh(t,y,r),n.memoizedState=Ph,l):(nr(n),qh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=Hh(t,n,r)):n.memoizedState!==null?(ir(),n.child=t.child,n.flags|=128,n=null):(ir(),c=l.fallback,E=n.mode,l=fu({mode:"visible",children:l.children},E),c=is(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=Bh(r),l.childLanes=jh(t,y,r),n.memoizedState=Ph,n=c);else if(nr(n),Rf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var k=y.dgst;y=k,l=Error(a(419)),l.stack="",l.digest=y,ll({value:l,source:null,stack:null}),n=Hh(t,n,r)}else if(xe||ol(t,n,r,!1),y=(r&t.childLanes)!==0,xe||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Gi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Fs(t,l),yn(y,t,l),Gg;E.data==="$?"||of(),n=Hh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=jn(E.nextSibling),We=n,Bt=!0,as=null,ti=!1,t!==null&&(Nn[xn++]=Ri,Nn[xn++]=wi,Nn[xn++]=rs,Ri=t.id,wi=t.overflow,rs=n),n=qh(n,l.children),n.flags|=4096);return n}return c?(ir(),c=l.fallback,E=n.mode,R=t.child,k=R.sibling,l=Si(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,k!==null?c=Si(k,c):(c=is(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Bh(r):(R=E.cachePool,R!==null?(k=Ae._currentValue,R=R.parent!==k?{parent:k,pool:k}:R):R=Pm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=jh(t,y,r),n.memoizedState=Ph,l):(nr(n),r=t.child,t=r.sibling,r=Si(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function qh(t,n){return n=fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fu(t,n){return t=fn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hh(t,n,r){return ia(n,t.child,null,r),t=qh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lh(t.return,n,r)}function Gh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ep(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tp(t,r,n);else if(t.tag===19)tp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(be,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Gh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ou(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Gh(n,!0,r,null,f);break;case"together":Gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),or|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Si(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Si(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function IE(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),$i(n,Ae,t.memoizedState.cache),al();break;case 27:case 5:Hi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wg(t,n,r):(nr(n),t=Ii(t,n,r),t!==null?t.sibling:null);nr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ep(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Kg(t,n,r);case 24:$i(n,Ae,t.memoizedState.cache)}return Ii(t,n,r)}function np(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!Qh(t,r)&&(n.flags&128)===0)return xe=!1,IE(t,n,r);xe=(t.flags&131072)!==0}else xe=!1,Bt&&(n.flags&1048576)!==0&&Vm(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")th(l)?(t=fs(l,t),n.tag=1,n=$g(null,n,l,t,r)):(n.tag=0,n=kh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===vt){n.tag=11,n=Qg(null,n,l,t,r);break t}else if(c===V){n.tag=14,n=Fg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=fs(l,n.pendingProps),$g(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,mh(t,n),gl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,$i(n,Ae,l),l!==f.cache&&oh(n,[Ae],r,!0),ml(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(t,n,l,r);break t}else if(l!==c){c=Dn(Error(a(424)),n),ll(c),n=Jg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=jn(t.firstChild),We=n,Bt=!0,as=null,ti=!0,r=Mg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(al(),l===c){n=Ii(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return hu(t,n),t===null?(r=ay(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=wu(Et.current).createElement(r),l[ve]=n,l[me]=t,Pe(l,r,t),ce(l),n.stateNode=l):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hi(n),t===null&&Bt&&(l=n.stateNode=iy(n.type,n.pendingProps,Et.current),We=n,ti=!0,c=ae,fr(n.type)?(wf=c,ae=jn(l.firstChild)):ae=c),ze(t,n,n.pendingProps.children,r),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=sT(l,n.type,n.pendingProps,ti),l!==null?(n.stateNode=l,We=n,ae=jn(l.firstChild),ti=!1,c=!0):c=!1),c||ls(n)),Hi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Af(c,f)?l=null:y!==null&&Af(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Eh(t,n,bE,null,null,r),zl._currentValue=c),hu(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=aT(r,n.pendingProps,ti),r!==null?(n.stateNode=r,We=n,ae=null,t=!0):t=!1),t||ls(n)),null;case 13:return Wg(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,$i(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,us(n),c=Qe(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,r);case 15:return Yg(t,n,n.type,n.pendingProps,r);case 19:return ep(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=fu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Si(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Kg(t,n,r);case 24:return us(n),l=Qe(Ae),t===null?(c=hh(),c===null&&(c=Jt,f=uh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},dh(n),$i(n,Ae,c)):((t.lanes&r)!==0&&(mh(t,n),gl(n,null,null,r),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),$i(n,Ae,l)):(l=f.cache,$i(n,Ae,l),l!==c.cache&&oh(n,[Ae],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Vi(t){t.flags|=4}function ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hy(n)){if(n=In.current,n!==null&&((Mt&4194048)===Mt?ei!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==ei))throw fl=fh,Bm;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pa():536870912,t.lanes|=n,la|=n)}function Al(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function VE(t,n,r){var l=n.pendingProps;switch(rh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(Ae),qn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sl(n)?Vi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Um())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Vi(n),r!==null?(ne(n),ip(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Vi(n),ne(n),ip(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Vi(n),ne(n),n.flags&=-16777217),null;case 27:hi(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=ht.current,sl(n)?Om(n):(t=iy(c,l,r),n.stateNode=t,Vi(n))}return ne(n),null;case 5:if(hi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=ht.current,sl(n))Om(n);else{switch(c=wu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ve]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Vi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Et.current,sl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Zp(t.nodeValue,r)),t||ls(n)}else t=wu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=sl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ve]=n}else al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),du(n,n.updateQueue),ne(n),null;case 4:return qn(),t===null&&yf(n.stateNode.containerInfo),ne(n),null;case 10:return Ci(n.type),ne(n),null;case 19:if(it(be),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ou(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Im(r,t),r=r.sibling;return W(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&Tn()>pu&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=ou(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*Tn()-c.renderingStartTime>pu&&r!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Tn(),n.sibling=null,t=be.current,W(be,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return xi(n),_h(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&du(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(cs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ci(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function OE(t,n){switch(rh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(Ae),qn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(xi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));al()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(be),null;case 4:return qn(),null;case 10:return Ci(n.type),null;case 22:case 23:return xi(n),_h(),t!==null&&it(cs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(Ae),null;case 25:return null;default:return null}}function rp(t,n){switch(rh(n),n.tag){case 3:Ci(Ae),qn();break;case 26:case 27:case 5:hi(n);break;case 4:qn();break;case 13:xi(n);break;case 19:it(be);break;case 10:Ci(n.type);break;case 22:case 23:xi(n),_h(),t!==null&&it(cs);break;case 24:Ci(Ae)}}function bl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function rr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,k=E;try{k()}catch(G){Zt(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){Zt(n,n.return,G)}}function sp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Fm(n,r)}catch(l){Zt(t,t.return,l)}}}function ap(t,n,r){r.props=fs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Sl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function ni(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function lp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Fh(t,n,r){try{var l=t.stateNode;tT(l,t.type,r,n),l[me]=n}catch(c){Zt(t,t.return,c)}}function op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function Yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kh(t,n,r),t=t.sibling;t!==null;)Kh(t,n,r),t=t.sibling}function mu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(mu(t,n,r),t=t.sibling;t!==null;)mu(t,n,r),t=t.sibling}function up(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[ve]=t,n[me]=r}catch(f){Zt(t,t.return,f)}}var Oi=!1,fe=!1,Xh=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function ME(t,n){if(t=t.containerInfo,Ef=Vu,t=Tm(t),Yc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,k=0,G=0,F=t,P=null;e:for(;;){for(var B;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(R=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(B=F.firstChild)!==null;)P=F,F=B;for(;;){if(F===t)break e;if(P===r&&++k===c&&(E=y),P===f&&++G===l&&(R=y),(B=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tf={focusedElem:t,selectionRange:r},Vu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=fs(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Zt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function hp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:sr(t,r),l&4&&bl(5,r);break;case 1:if(sr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=fs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&sp(r),l&512&&Sl(r,r.return);break;case 3:if(sr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&up(r);case 26:case 5:sr(t,r),n===null&&l&4&&lp(r),l&512&&Sl(r,r.return);break;case 12:sr(t,r);break;case 13:sr(t,r),l&4&&mp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=HE.bind(null,r),lT(t,r))));break;case 22:if(l=r.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||fe,c=Oi;var f=fe;Oi=l,(fe=n)&&!f?ar(t,r,(r.subtreeFlags&8772)!==0):sr(t,r),Oi=c,fe=f}break;case 30:break;default:sr(t,r)}}function fp(t){var n=t.alternate;n!==null&&(t.alternate=null,fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Yi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,rn=!1;function Mi(t,n,r){for(r=r.child;r!==null;)dp(t,n,r),r=r.sibling}function dp(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:fe||ni(r,n),Mi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||ni(r,n);var l=te,c=rn;fr(r.type)&&(te=r.stateNode,rn=!1),Mi(t,n,r),Ol(r.stateNode),te=l,rn=c;break;case 5:fe||ni(r,n);case 6:if(l=te,c=rn,te=null,Mi(t,n,r),te=l,rn=c,te!==null)if(rn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:te!==null&&(rn?(t=te,ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):ey(te,r.stateNode));break;case 4:l=te,c=rn,te=r.stateNode.containerInfo,rn=!0,Mi(t,n,r),te=l,rn=c;break;case 0:case 11:case 14:case 15:fe||rr(2,r,n),fe||rr(4,r,n),Mi(t,n,r);break;case 1:fe||(ni(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ap(r,n,l)),Mi(t,n,r);break;case 21:Mi(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Mi(t,n,r),fe=l;break;default:Mi(t,n,r)}}function mp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){Zt(n,n.return,r)}}function UE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cp),n;default:throw Error(a(435,t.tag))}}function Zh(t,n){var r=UE(t);n.forEach(function(l){var c=GE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function dn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){te=E.stateNode,rn=!1;break t}break;case 5:te=E.stateNode,rn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(te===null)throw Error(a(160));dp(f,y,c),te=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gp(n,t),n=n.sibling}var Bn=null;function gp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(rr(3,t,t.return),bl(3,t),rr(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(fe||r===null||ni(r,r.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Bn;if(dn(n,t),mn(t),l&512&&(fe||r===null||ni(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[jr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[ve]=t,ce(f),l=f;break t;case"link":var y=uy("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=uy("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=t,ce(f),l=f}t.stateNode=l}else cy(c,t.type,t.stateNode);else t.stateNode=oy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?cy(c,t.type,t.stateNode):oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fh(t,t.memoizedProps,r.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(fe||r===null||ni(r,r.return)),r!==null&&l&4&&Fh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(fe||r===null||ni(r,r.return)),t.flags&32){c=t.stateNode;try{bn(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Fh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Xh=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Nu=null,c=Bn,Bn=Du(n.containerInfo),dn(n,t),Bn=c,mn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Zt(t,t.return,B)}Xh&&(Xh=!1,pp(t));break;case 4:l=Bn,Bn=Du(t.stateNode.containerInfo),dn(n,t),mn(t),Bn=l;break;case 12:dn(n,t),mn(t);break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nf=Tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,k=Oi,G=fe;if(Oi=k||c,fe=G||R,dn(n,t),fe=G,Oi=k,mn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Oi||fe||ds(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(B){Zt(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){Zt(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Zh(t,r))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zh(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(op(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Yh(t);mu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(bn(y,""),r.flags&=-33);var E=Yh(t);mu(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,k=Yh(t);Kh(t,k,R);break;default:throw Error(a(161))}}catch(G){Zt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hp(t,n.alternate,n),n=n.sibling}function ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ds(n);break;case 1:ni(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ap(n,n.return,r),ds(n);break;case 27:Ol(n.stateNode);case 26:case 5:ni(n,n.return),ds(n);break;case 22:n.memoizedState===null&&ds(n);break;case 30:ds(n);break;default:ds(n)}t=t.sibling}}function ar(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ar(c,f,r),bl(4,f);break;case 1:if(ar(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Zt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Qm(R[c],E)}catch(k){Zt(l,l.return,k)}}r&&y&64&&sp(f),Sl(f,f.return);break;case 27:up(f);case 26:case 5:ar(c,f,r),r&&l===null&&y&4&&lp(f),Sl(f,f.return);break;case 12:ar(c,f,r);break;case 13:ar(c,f,r),r&&y&4&&mp(c,f);break;case 22:f.memoizedState===null&&ar(c,f,r),Sl(f,f.return);break;case 30:break;default:ar(c,f,r)}n=n.sibling}}function $h(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function Jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function ii(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(t,n,r,l),n=n.sibling}function yp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,r,l),c&2048&&bl(9,n);break;case 1:ii(t,n,r,l);break;case 3:ii(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){ii(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ii(t,n,r,l);break;case 13:ii(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ii(t,n,r,l):Rl(t,n):f._visibility&2?ii(t,n,r,l):(f._visibility|=2,ra(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&$h(y,n);break;case 24:ii(t,n,r,l),c&2048&&Jh(n.alternate,n);break;default:ii(t,n,r,l)}}function ra(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,k=y.flags;switch(y.tag){case 0:case 11:case 15:ra(f,y,E,R,c),bl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ra(f,y,E,R,c):Rl(f,y):(G._visibility|=2,ra(f,y,E,R,c)),c&&k&2048&&$h(y.alternate,y);break;case 24:ra(f,y,E,R,c),c&&k&2048&&Jh(y.alternate,y);break;default:ra(f,y,E,R,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(r,l),c&2048&&$h(l.alternate,l);break;case 24:Rl(r,l),c&2048&&Jh(l.alternate,l);break;default:Rl(r,l)}n=n.sibling}}var wl=8192;function sa(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 26:sa(t),t.flags&wl&&t.memoizedState!==null&&ET(Bn,t.memoizedState,t.memoizedProps);break;case 5:sa(t);break;case 3:case 4:var n=Bn;Bn=Du(t.stateNode.containerInfo),sa(t),Bn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,sa(t),wl=n):sa(t));break;default:sa(t)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Tp(l,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&rr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gu(t)):Dl(t);break;default:Dl(t)}}function gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Tp(l,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rr(8,n,n.return),gu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,gu(n));break;default:gu(n)}t=t.sibling}}function Tp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(fp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var LE={getCacheForType:function(t){var n=Qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},zE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Nt=null,Mt=0,Qt=0,gn=null,lr=!1,aa=!1,Wh=!1,Ui=0,le=0,or=0,ms=0,tf=0,Vn=0,la=0,Cl=null,sn=null,ef=!1,nf=0,pu=1/0,yu=null,ur=null,ke=0,cr=null,oa=null,ua=0,rf=0,sf=null,Ap=null,Nl=0,af=null;function pn(){if((Gt&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Zs;return t!==0?t:df()}return Qi()}function bp(){Vn===0&&(Vn=(Mt&536870912)===0||Bt?ka():536870912);var t=In.current;return t!==null&&(t.flags|=32),Vn}function yn(t,n,r){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ca(t,0),hr(t,Mt,Vn,!1)),di(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ms|=r),le===4&&hr(t,Mt,Vn,!1)),ri(t))}function Sp(t,n,r){if((Gt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Br(t,n),c=l?BE(t,n):uf(t,n,!0),f=l;do{if(c===0){aa&&!l&&hr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!kE(r)){c=uf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Cl;var R=E.current.memoizedState.isDehydrated;if(R&&(ca(E,y).flags|=256),y=uf(E,y,!1),y!==2){if(Wh&&!R){E.errorRecoveryDisabledLanes|=f,ms|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ca(t,0),hr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:hr(l,n,Vn,!lr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=nf+300-Tn(),10<c)){if(hr(l,n,Vn,!lr),Ds(l,0,!0)!==0)break t;l.timeoutHandle=Wp(Rp.bind(null,l,r,sn,yu,ef,n,Vn,ms,la,lr,f,2,-0,0),c);break t}Rp(l,r,sn,yu,ef,n,Vn,ms,la,lr,f,0,-0,0)}}break}while(!0);ri(t)}function Rp(t,n,r,l,c,f,y,E,R,k,G,F,P,B){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:vT},_p(n),F=TT(),F!==null)){t.cancelPendingCommit=F(Vp.bind(null,t,n,f,r,l,c,y,E,R,G,1,P,B)),hr(t,f,y,!k);return}Vp(t,n,f,r,l,c,y,E,R)}function kE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(t,n,r,l){n&=~tf,n&=~ms,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Hn(t,r,n)}function _u(){return(Gt&6)===0?(xl(0),!1):!0}function lf(){if(Nt!==null){if(Qt===0)var t=Nt.return;else t=Nt,Di=os=null,bh(t),na=null,El=0,t=Nt;for(;t!==null;)rp(t.alternate,t),t=t.return;Nt=null}}function ca(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,nT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),lf(),Jt=t,Nt=r=Si(t.current,null),Mt=n,Qt=0,gn=null,lr=!1,aa=Br(t,n),Wh=!1,la=Vn=tf=ms=or=le=0,sn=Cl=null,ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Ui=n,Bo(),r}function wp(t,n){Rt=null,H.H=su,n===hl||n===Xo?(n=Hm(),Qt=3):n===Bm?(n=Hm(),Qt=4):Qt=n===Gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Nt===null&&(le=1,cu(t,Dn(n,t.current)))}function Dp(){var t=H.H;return H.H=su,t===null?su:t}function Cp(){var t=H.A;return H.A=LE,t}function of(){le=4,lr||(Mt&4194048)!==Mt&&In.current!==null||(aa=!0),(or&134217727)===0&&(ms&134217727)===0||Jt===null||hr(Jt,Mt,Vn,!1)}function uf(t,n,r){var l=Gt;Gt|=2;var c=Dp(),f=Cp();(Jt!==t||Mt!==n)&&(yu=null,ca(t,n)),n=!1;var y=le;t:do try{if(Qt!==0&&Nt!==null){var E=Nt,R=gn;switch(Qt){case 8:lf(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var k=Qt;if(Qt=0,gn=null,ha(t,E,R,k),r&&aa){y=0;break t}break;default:k=Qt,Qt=0,gn=null,ha(t,E,R,k)}}PE(),y=le;break}catch(G){wp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=os=null,Gt=l,H.H=c,H.A=f,Nt===null&&(Jt=null,Mt=0,Bo()),y}function PE(){for(;Nt!==null;)Np(Nt)}function BE(t,n){var r=Gt;Gt|=2;var l=Dp(),c=Cp();Jt!==t||Mt!==n?(yu=null,pu=Tn()+500,ca(t,n)):aa=Br(t,n);t:do try{if(Qt!==0&&Nt!==null){n=Nt;var f=gn;e:switch(Qt){case 1:Qt=0,gn=null,ha(t,n,f,1);break;case 2:case 9:if(jm(f)){Qt=0,gn=null,xp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),ri(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:jm(f)?(Qt=0,gn=null,xp(n)):(Qt=0,gn=null,ha(t,n,f,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(!y||hy(y)){Qt=0,gn=null;var R=E.sibling;if(R!==null)Nt=R;else{var k=E.return;k!==null?(Nt=k,vu(k)):Nt=null}break e}}Qt=0,gn=null,ha(t,n,f,5);break;case 6:Qt=0,gn=null,ha(t,n,f,6);break;case 8:lf(),le=6;break t;default:throw Error(a(462))}}jE();break}catch(G){wp(t,G)}while(!0);return Di=os=null,H.H=l,H.A=c,Gt=r,Nt!==null?0:(Jt=null,Mt=0,Bo(),le)}function jE(){for(;Nt!==null&&!Ma();)Np(Nt)}function Np(t){var n=np(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?vu(t):Nt=n}function xp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Zg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Zg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:bh(n);default:rp(r,n),n=Nt=Im(n,Ui),n=np(r,n,Ui)}t.memoizedProps=t.pendingProps,n===null?vu(t):Nt=n}function ha(t,n,r,l){Di=os=null,bh(n),na=null,El=0;var c=n.return;try{if(xE(t,c,n,r,Mt)){le=1,cu(t,Dn(r,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;le=1,cu(t,Dn(r,t.current)),Nt=null;return}n.flags&32768?(Bt||l===1?t=!0:aa||(Mt&536870912)!==0?t=!1:(lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ip(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){Ip(n,lr);return}t=n.return;var r=VE(n.alternate,n,Ui);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);le===0&&(le=5)}function Ip(t,n){do{var r=OE(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);le=6,Nt=null}function Vp(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do Eu();while(ke!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jc,Ba(t,r,f,y,E,R),t===Jt&&(Nt=Jt=null,Mt=0),oa=n,cr=t,ua=r,rf=f,sf=c,Ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QE(Lr,function(){return zp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Gt,Gt|=4;try{ME(t,n,r)}finally{Gt=y,nt.p=c,H.T=l}}ke=1,Op(),Mp(),Up()}}function Op(){if(ke===1){ke=0;var t=cr,n=oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Gt;Gt|=4;try{gp(n,t);var f=Tf,y=Tm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Em(E.ownerDocument.documentElement,E)){if(R!==null&&Yc(E)){var k=R.start,G=R.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var B=P.getSelection(),yt=E.textContent.length,dt=Math.min(R.start,yt),Xt=R.end===void 0?dt:Math.min(R.end,yt);!B.extend&&dt>Xt&&(y=Xt,Xt=dt,dt=y);var M=vm(E,dt),x=vm(E,Xt);if(M&&x&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var z=F.createRange();z.setStart(M.node,M.offset),B.removeAllRanges(),dt>Xt?(B.addRange(z),B.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),B.addRange(z))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vu=!!Ef,Tf=Ef=null}finally{Gt=c,nt.p=l,H.T=r}}t.current=n,ke=2}}function Mp(){if(ke===2){ke=0;var t=cr,n=oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Gt;Gt|=4;try{hp(t,n.alternate,n)}finally{Gt=c,nt.p=l,H.T=r}}ke=3}}function Up(){if(ke===4||ke===3){ke=0,go();var t=cr,n=oa,r=ua,l=Ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,oa=cr=null,Lp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ur=null),Cs(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(ua&3)!==0&&Eu(),ri(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===af?Nl++:(Nl=0,af=t):Nl=0,xl(0)}}function Lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Eu(t){return Op(),Mp(),Up(),zp()}function zp(){if(ke!==5)return!1;var t=cr,n=rf;rf=0;var r=Cs(ua),l=H.T,c=nt.p;try{nt.p=32>r?32:r,H.T=null,r=sf,sf=null;var f=cr,y=ua;if(ke=0,oa=cr=null,ua=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Ep(f.current),yp(f,f.current,y,r),Gt=E,xl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{nt.p=c,H.T=l,Lp(t,n)}}function kp(t,n,r){n=Dn(r,n),n=zh(t.stateNode,n,2),t=tr(t,n,2),t!==null&&(di(t,2),ri(t))}function Zt(t,n,r){if(t.tag===3)kp(t,t,r);else for(;n!==null;){if(n.tag===3){kp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ur===null||!ur.has(l))){t=Dn(r,t),r=qg(2),l=tr(n,r,2),l!==null&&(Hg(r,l,n,t),di(l,2),ri(l));break}}n=n.return}}function cf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new zE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Wh=!0,c.add(r),t=qE.bind(null,t,n,r),n.then(t,t))}function qE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Mt&r)===r&&(le===4||le===3&&(Mt&62914560)===Mt&&300>Tn()-nf?(Gt&2)===0&&ca(t,0):tf|=r,la===Mt&&(la=0)),ri(t)}function Pp(t,n){n===0&&(n=Pa()),t=Fs(t,n),t!==null&&(di(t,n),ri(t))}function HE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Pp(t,r)}function GE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Pp(t,r)}function QE(t,n){return Mr(t,n)}var Tu=null,fa=null,hf=!1,Au=!1,ff=!1,gs=0;function ri(t){t!==fa&&t.next===null&&(fa===null?Tu=fa=t:fa=fa.next=t),Au=!0,hf||(hf=!0,YE())}function xl(t,n){if(!ff&&Au){ff=!0;do for(var r=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Hp(l,f))}else f=Mt,f=Ds(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Br(l,f)||(r=!0,Hp(l,f));l=l.next}while(r);ff=!1}}function FE(){Bp()}function Bp(){Au=hf=!1;var t=0;gs!==0&&(eT()&&(t=gs),gs=0);for(var n=Tn(),r=null,l=Tu;l!==null;){var c=l.next,f=jp(l,n);f===0?(l.next=null,r===null?Tu=c:r.next=c,c===null&&(fa=r)):(r=l,(t!==0||(f&3)!==0)&&(Au=!0)),l=c}xl(t)}function jp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ge(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=za(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Mt,r=Ds(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ur(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Br(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ur(l),Cs(r)){case 2:case 8:r=Rs;break;case 32:r=Lr;break;case 268435456:r=ws;break;default:r=Lr}return l=qp.bind(null,t),r=Mr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ur(l),t.callbackPriority=2,t.callbackNode=null,2}function qp(t,n){if(ke!==0&&ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Eu()&&t.callbackNode!==r)return null;var l=Mt;return l=Ds(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sp(t,l,n),jp(t,Tn()),t.callbackNode!=null&&t.callbackNode===r?qp.bind(null,t):null)}function Hp(t,n){if(Eu())return null;Sp(t,n,!0)}function YE(){iT(function(){(Gt&6)!==0?Mr(Ua,FE):Bp()})}function df(){return gs===0&&(gs=ka()),gs}function Gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function Qp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function KE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Gp((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?Gp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Us("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gs!==0){var R=y?Qp(c,y):new FormData(c);Vh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Qp(c,y):new FormData(c),Vh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var mf=0;mf<$c.length;mf++){var gf=$c[mf],XE=gf.toLowerCase(),ZE=gf[0].toUpperCase()+gf.slice(1);Pn(XE,"on"+ZE)}Pn(Sm,"onAnimationEnd"),Pn(Rm,"onAnimationIteration"),Pn(wm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(dE,"onTransitionRun"),Pn(mE,"onTransitionStart"),Pn(gE,"onTransitionCancel"),Pn(Dm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Fp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){uu(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){uu(G)}c.currentTarget=null,f=R}}}}function xt(t,n){var r=n[qa];r===void 0&&(r=n[qa]=new Set);var l=t+"__bubble";r.has(l)||(Yp(n,t,2,!1),r.add(l))}function pf(t,n,r){var l=0;n&&(l|=4),Yp(r,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[bu]){t[bu]=!0,Ha.forEach(function(r){r!=="selectionchange"&&($E.has(r)||pf(r,!1,t),pf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,pf("selectionchange",!1,n))}}function Yp(t,n,r,l){switch(yy(n)){case 2:var c=ST;break;case 8:c=RT;break;default:c=If}r=c.bind(null,n,r,t),c=void 0,!Rn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function _f(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=mi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ro(function(){var k=f,G=Sn(r),F=[];t:{var P=Cm.get(t);if(P!==void 0){var B=Us,yt=t;switch(t){case"keypress":if(Xn(r)===0)break t;case"keydown":case"keyup":B=js;break;case"focusin":yt="focus",B=ks;break;case"focusout":yt="blur",B=ks;break;case"beforeblur":case"afterblur":B=ks;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Oo;break;case Sm:case Rm:case wm:B=Ps;break;case Dm:B=Uo;break;case"scroll":case"scrollend":B=wo;break;case"wheel":B=qs;break;case"copy":case"cut":case"paste":B=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=el;break;case"toggle":case"beforetoggle":B=zo}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),M=dt?P!==null?P+"Capture":null:P;dt=[];for(var x=k,z;x!==null;){var Q=x;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Kr(x,M),Q!=null&&dt.push(Vl(x,Q,z))),Xt)break;x=x.return}0<dt.length&&(P=new B(P,yt,null,r,G),F.push({event:P,listeners:dt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&r!==_i&&(yt=r.relatedTarget||r.fromElement)&&(mi(yt)||yt[An]))break t;if((B||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,B?(yt=r.relatedTarget||r.toElement,B=k,yt=yt?mi(yt):null,yt!==null&&(Xt=h(yt),dt=yt.tag,yt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(B=null,yt=k),B!==yt)){if(dt=wn,Q="onMouseLeave",M="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(dt=el,Q="onPointerLeave",M="onPointerEnter",x="pointer"),Xt=B==null?P:Qn(B),z=yt==null?P:Qn(yt),P=new dt(Q,x+"leave",B,r,G),P.target=Xt,P.relatedTarget=z,Q=null,mi(G)===k&&(dt=new dt(M,x+"enter",yt,r,G),dt.target=z,dt.relatedTarget=Xt,Q=dt),Xt=Q,B&&yt)e:{for(dt=B,M=yt,x=0,z=dt;z;z=da(z))x++;for(z=0,Q=M;Q;Q=da(Q))z++;for(;0<x-z;)dt=da(dt),x--;for(;0<z-x;)M=da(M),z--;for(;x--;){if(dt===M||M!==null&&dt===M.alternate)break e;dt=da(dt),M=da(M)}dt=null}else dt=null;B!==null&&Kp(F,P,B,dt,!1),yt!==null&&Xt!==null&&Kp(F,Xt,yt,dt,!0)}}t:{if(P=k?Qn(k):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var at=dm;else if(Te(P))if(mm)at=cE;else{at=oE;var Ct=lE}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&Ka(k.elementType)&&(at=dm):at=uE;if(at&&(at=at(t,k))){bi(F,at,r,G);break t}Ct&&Ct(t,P,k),t==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&Xi(P,"number",P.value)}switch(Ct=k?Qn(k):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(Hs=Ct,Kc=k,rl=null);break;case"focusout":rl=Kc=Hs=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Am(F,r,G);break;case"selectionchange":if(fE)break;case"keydown":case"keyup":Am(F,r,G)}var ot;if(Jn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Vt?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Vt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Vt&&(ot=Za()):(Kn=G,Zi="value"in Kn?Kn.value:Kn.textContent,Vt=!0)),Ct=Su(k,mt),0<Ct.length&&(mt=new Wa(mt,t,null,r,G),F.push({event:mt,listeners:Ct}),ot?mt.data=ot:(ot=tt(r),ot!==null&&(mt.data=ot)))),(ot=m?Ee(t,r):Ot(t,r))&&(mt=Su(k,"onBeforeInput"),0<mt.length&&(Ct=new Wa("onBeforeInput","beforeinput",null,r,G),F.push({event:Ct,listeners:mt}),Ct.data=ot)),KE(F,t,k,r,G)}Fp(F,n)})}function Vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Su(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Kr(t,r),c!=null&&l.unshift(Vl(t,c,f)),c=Kr(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||k===null||(R=k,c?(k=Kr(r,f),k!=null&&y.unshift(Vl(r,k,R))):c||(k=Kr(r,f),k!=null&&y.push(Vl(r,k,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var JE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(JE,`
`).replace(WE,"")}function Zp(t,n){return n=Xp(n),Xp(t)===n}function Ru(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Fn(t,"class",l);break;case"tabIndex":Fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(t,r,l);break;case"style":Ya(t,l,f);break;case"data":if(n!=="object"){Fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ms(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ms(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ms(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jc.get(r)||r,Ki(t,r,l))}}function vf(t,n,r,l,c,f){switch(r){case"style":Ya(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ki(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":xt("invalid",t);var E=f=y=c=null,R=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Kt(t,n,l,G,r,null)}}Qr(t,f,E,R,k,y,c,!1),Os(t);return;case"select":xt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?yi(t,!!l,n,!1):r!=null&&yi(t,!!l,r,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,r,null)}Fr(t,l,c,f),Os(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)xt(Il[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,k,l,r,null)}return;default:if(Ka(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&vf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function tT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,k=null,G=null;for(B in r){var F=r[B];if(r.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,F)}}for(var P in l){var B=l[P];if(F=r[P],l.hasOwnProperty(P)&&(B!=null||F!=null))switch(P){case"type":f=B;break;case"name":c=B;break;case"checked":k=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==F&&Kt(t,n,P,B,l,F)}}cn(t,y,E,R,k,G,f,c);return;case"select":B=y=E=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=y,l=B,P!=null?yi(t,!!r,P,!1):!!l!=!!r&&(n!=null?yi(t,!!r,n,!0):yi(t,!!r,r?[]:"",!1));return;case"textarea":B=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Ft(t,P,B);return;case"option":for(var yt in r)if(P=r[yt],r.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Kt(t,n,yt,null,l,P)}for(R in l)if(P=l[R],B=r[R],l.hasOwnProperty(R)&&P!==B&&(P!=null||B!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Kt(t,n,R,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)P=r[dt],r.hasOwnProperty(dt)&&P!=null&&!l.hasOwnProperty(dt)&&Kt(t,n,dt,null,l,P);for(k in l)if(P=l[k],B=r[k],l.hasOwnProperty(k)&&P!==B&&(P!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Kt(t,n,k,P,l,B)}return;default:if(Ka(n)){for(var Xt in r)P=r[Xt],r.hasOwnProperty(Xt)&&P!==void 0&&!l.hasOwnProperty(Xt)&&vf(t,n,Xt,void 0,l,P);for(G in l)P=l[G],B=r[G],!l.hasOwnProperty(G)||P===B||P===void 0&&B===void 0||vf(t,n,G,P,l,B);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Kt(t,n,M,null,l,P);for(F in l)P=l[F],B=r[F],!l.hasOwnProperty(F)||P===B||P==null&&B==null||Kt(t,n,F,P,l,B)}var Ef=null,Tf=null;function wu(t){return t.nodeType===9?t:t.ownerDocument}function $p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bf=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===bf?!1:(bf=t,!0):(bf=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(rT)}:Wp;function rT(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function ey(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ol(y.documentElement),r&2&&Ol(y.body),r&4)for(r=y.head,Ol(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[jr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);jl(n)}function Sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sf(r),Yi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function sT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function aT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=jn(t.nextSibling),t===null))return null;return t}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var wf=null;function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function iy(t,n,r){switch(n=wu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Yi(t)}var On=new Map,ry=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=nt.d;nt.d={f:oT,r:uT,D:cT,C:hT,L:fT,m:dT,X:gT,S:mT,M:pT};function oT(){var t=Li.f(),n=_u();return t||n}function uT(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Li.r(t)}var ma=typeof document>"u"?null:document;function sy(t,n,r){var l=ma;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ry.has(c)||(ry.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ce(n),l.head.appendChild(n)))}}function cT(t){Li.D(t),sy("dns-prefetch",t,null)}function hT(t,n){Li.C(t,n),sy("preconnect",t,n)}function fT(t,n,r){Li.L(t,n,r);var l=ma;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=ga(t);break;case"script":f=pa(t)}On.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ml(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),Pe(n,"link",t),ce(n),l.head.appendChild(n)))}}function dT(t,n){Li.m(t,n);var r=ma;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pa(t)}if(!On.has(f)&&(t=A({rel:"modulepreload",href:t},n),On.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(f)))return}l=r.createElement("link"),Pe(l,"link",t),ce(l),r.head.appendChild(l)}}}function mT(t,n,r){Li.S(t,n,r);var l=ma;if(l&&t){var c=Ze(l).hoistableStyles,f=ga(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ml(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=On.get(f))&&Df(t,r);var R=y=l.createElement("link");ce(R),Pe(R,"link",t),R._p=new Promise(function(k,G){R.onload=k,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function gT(t,n){Li.X(t,n);var r=ma;if(r&&t){var l=Ze(r).hoistableScripts,c=pa(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=A({src:t,async:!0},n),(n=On.get(c))&&Cf(t,n),f=r.createElement("script"),ce(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function pT(t,n){Li.M(t,n);var r=ma;if(r&&t){var l=Ze(r).hoistableScripts,c=pa(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=On.get(c))&&Cf(t,n),f=r.createElement("script"),ce(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ay(t,n,r,l){var c=(c=Et.current)?Du(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ga(r.href),r=Ze(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ga(r.href);var f=Ze(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ml(t)))&&!f._p&&(y.instance=f,y.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),f||yT(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pa(r),r=Ze(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ga(t){return'href="'+ge(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function yT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ce(n),t.head.appendChild(n))}function pa(t){return'[src="'+ge(t)+'"]'}function Ul(t){return"script[async]"+t}function oy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Pe(l,"style",c),Cu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ga(r.href);var f=t.querySelector(Ml(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=ly(r),(c=On.get(c))&&Df(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Cu(f,r.precedence,t),n.instance=f;case"script":return f=pa(r.src),(c=t.querySelector(Ul(f)))?(n.instance=c,ce(c),c):(l=r,(c=On.get(f))&&(l=A({},r),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,r.precedence,t));return n.instance}function Cu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nu=null;function uy(t,n,r){if(Nu===null){var l=new Map,c=Nu=new Map;c.set(r,l)}else c=Nu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[jr]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function cy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function _T(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function vT(){}function ET(t,n,r){if(Ll===null)throw Error(a(475));var l=Ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ga(r.href),f=t.querySelector(Ml(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=ly(r),(c=On.get(c))&&Df(r,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function TT(){if(Ll===null)throw Error(a(475));var t=Ll;return t.stylesheets&&t.count===0&&Nf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Nf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(AT,t),Iu=null,xu.call(t))}function AT(t,n){if(!(n.state.loading&4)){var r=Iu.get(t);if(r)var l=r.get(null);else{r=new Map,Iu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=xu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function bT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fy(t,n,r,l,c,f,y,E,R,k,G,F){return t=new bT(t,n,r,y,E,R,k,F),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=uh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},dh(f),t}function dy(t){return t?(t=Ys,t):Ys}function my(t,n,r,l,c,f){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=Wi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=tr(t,l,n),r!==null&&(yn(r,t,n),dl(r,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xf(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13){var n=Fs(t,67108864);n!==null&&yn(n,t,67108864),xf(t,67108864)}}var Vu=!0;function ST(t,n,r,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,If(t,n,r,l)}finally{nt.p=f,H.T=c}}function RT(t,n,r,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,If(t,n,r,l)}finally{nt.p=f,H.T=c}}function If(t,n,r,l){if(Vu){var c=Vf(l);if(c===null)_f(t,n,l,Ou,r),_y(t,l);else if(DT(c,t,n,r,l))l.stopPropagation();else if(_y(t,l),n&4&&-1<wT.indexOf(t)){for(;c!==null;){var f=Gn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ln(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ge(y);E.entanglements[1]|=R,y&=~R}ri(f),(Gt&6)===0&&(pu=Tn()+500,xl(0))}}break;case 13:E=Fs(f,2),E!==null&&yn(E,f,2),_u(),xf(f,2)}if(f=Vf(l),f===null&&_f(t,n,l,Ou,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else _f(t,n,l,null,r)}}function Vf(t){return t=Sn(t),Of(t)}var Ou=null;function Of(t){if(Ou=null,t=mi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uc()){case Ua:return 2;case Rs:return 8;case Lr:case Lc:return 32;case ws:return 268435456;default:return 32}default:return 32}}var Mf=!1,dr=null,mr=null,gr=null,kl=new Map,Pl=new Map,pr=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function Bl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Gn(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function DT(t,n,r,l,c){switch(n){case"focusin":return dr=Bl(dr,t,n,r,l,c),!0;case"dragenter":return mr=Bl(mr,t,n,r,l,c),!0;case"mouseover":return gr=Bl(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,Bl(kl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Pl.set(f,Bl(Pl.get(f)||null,t,n,r,l,c)),!0}return!1}function vy(t){var n=mi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,_o(t.priority,function(){if(r.tag===13){var l=pn();l=Gi(l);var c=Fs(r,l);c!==null&&yn(c,r,l),xf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_i=l,r.target.dispatchEvent(l),_i=null}else return n=Gn(r),n!==null&&py(n),t.blockedOn=r,!1;n.shift()}return!0}function Ey(t,n,r){Mu(t)&&r.delete(n)}function CT(){Mf=!1,dr!==null&&Mu(dr)&&(dr=null),mr!==null&&Mu(mr)&&(mr=null),gr!==null&&Mu(gr)&&(gr=null),kl.forEach(Ey),Pl.forEach(Ey)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,CT)))}var Lu=null;function Ty(t){Lu!==t&&(Lu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(R){return Uu(R,t)}dr!==null&&Uu(dr,t),mr!==null&&Uu(mr,t),gr!==null&&Uu(gr,t),kl.forEach(n),Pl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)vy(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[me]||null;if(typeof f=="function")y||Ty(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[me]||null)E=y.formAction;else if(Of(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ty(r)}}}function Uf(t){this._internalRoot=t}zu.prototype.render=Uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=pn();my(r,l,t,n,null,null)},zu.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),_u(),n[An]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&vy(t)}};var Ay=e.version;if(Ay!=="19.1.0")throw Error(a(527,Ay,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var NT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{se=ku.inject(NT),Ht=ku}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=kg,f=Pg,y=Bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=fy(t,1,!1,null,null,r,l,c,f,y,E,null),t[An]=n.current,yf(t),new Uf(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=kg,y=Pg,E=Bg,R=null,k=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(k=r.formState)),n=fy(t,1,!0,n,r??null,l,c,f,y,E,R,k),n.context=dy(null),r=n.current,l=pn(),l=Gi(l),c=Wi(l),c.callback=null,tr(r,c,l),r=l,n.current.lanes=r,di(n,r),ri(n),t[An]=n.current,yf(t),new zu(n)},Hl.version="19.1.0",Hl}var Vy;function PT(){if(Vy)return kf.exports;Vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kf.exports=kT(),kf.exports}var BT=PT();const jT=({setActivePage:s})=>{const[e,i]=zt.useState(!1);return K.jsxs("nav",{className:"bg-blue-600 text-white p-4 fixed w-full z-10 top-0 shadow-md",children:[K.jsxs("div",{className:"flex items-center justify-between",children:[K.jsx("div",{className:"text-xl font-semibold",children:"Admin Panel"}),K.jsxs("div",{className:"hidden md:flex space-x-6",children:[K.jsx("button",{onClick:()=>s("upload"),className:"hover:bg-blue-700 py-2 px-4 rounded",children:"Upload Questions"}),K.jsx("button",{onClick:()=>s("results"),className:"hover:bg-blue-700 py-2 px-4 rounded",children:"View Results"}),K.jsx("button",{onClick:()=>s("disclaimer"),className:"hover:bg-blue-700 py-2 px-4 rounded",children:"Disclaimer Editor"}),K.jsx("button",{onClick:()=>s("questions"),className:"hover:bg-blue-700 py-2 px-4 rounded",children:"Manage Questions"}),K.jsx("button",{onClick:()=>s("live"),className:"hover:bg-red-700 bg-red-600 py-2 px-4 rounded",children:"Live Class"})]}),K.jsx("button",{onClick:()=>i(!e),className:"md:hidden text-xl",children:K.jsx("i",{className:e?"fas fa-times":"fas fa-bars"})})]}),e&&K.jsxs("div",{className:"md:hidden mt-4 space-y-4",children:[K.jsx("button",{onClick:()=>s("upload"),className:"block w-full text-left py-2 px-4 bg-blue-700 rounded",children:"Upload Questions"}),K.jsx("button",{onClick:()=>s("results"),className:"block w-full text-left py-2 px-4 bg-blue-700 rounded",children:"View Results"}),K.jsx("button",{onClick:()=>s("disclaimer"),className:"block w-full text-left py-2 px-4 bg-blue-700 rounded",children:"Disclaimer Editor"}),K.jsx("button",{onClick:()=>s("questions"),className:"block w-full text-left py-2 px-4 bg-blue-700 rounded",children:"Manage Questions"}),K.jsx("button",{onClick:()=>s("live"),className:"block w-full text-left py-2 px-4 bg-red-600 rounded",children:"Live Class"})]})]})},qT=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},HT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,S=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(N=64)),a.push(i[A],i[S],i[N],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(K_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):HT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||S==null)throw new GT;const N=h<<2|g>>4;if(a.push(N),v!==64){const j=g<<4&240|v>>2;if(a.push(j),S!==64){const X=v<<6&192|S;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class GT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QT=function(s){const e=K_(s);return X_.encodeByteArray(e,!0)},Ju=function(s){return QT(s).replace(/\./g,"")},FT=function(s){try{return X_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=()=>YT().__FIREBASE_DEFAULTS__,XT=()=>{if(typeof process>"u"||typeof Oy>"u")return;const s=Oy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ZT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&FT(s[1]);return e&&JSON.parse(e)},bd=()=>{try{return qT()||KT()||XT()||ZT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$T=s=>{var e,i;return(i=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},Z_=s=>{const e=$T(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},$_=()=>{var s;return(s=bd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){var s;const e=(s=bd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=rA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W_.prototype.create)}}class W_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?sA(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new As(o,g,a)}}function sA(s,e){return s.replace(aA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const aA=/\{\$([^}]+)}/g;function Wu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(My(h)&&My(d)){if(!Wu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function My(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s){return s&&s._delegate?s._delegate:s}class Aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new JT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uA(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(s){return s===ps?void 0:s}function uA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new lA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const hA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},fA=Lt.INFO,dA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},mA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=dA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const gA=(s,e)=>e.some(i=>s instanceof i);let Uy,Ly;function pA(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,Wf=new WeakMap,nv=new WeakMap,qf=new WeakMap,Sd=new WeakMap;function _A(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Er(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ev.set(i,s)}).catch(()=>{}),Sd.set(e,s),e}function vA(s){if(Wf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Wf.set(s,e)}let td={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||nv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function EA(s){td=s(td)}function TA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hf(this),e,...i);return nv.set(a,e.sort?e.sort():[e]),Er(a)}:yA().includes(s)?function(...e){return s.apply(Hf(this),e),Er(ev.get(this))}:function(...e){return Er(s.apply(Hf(this),e))}}function AA(s){return typeof s=="function"?TA(s):(s instanceof IDBTransaction&&vA(s),gA(s,pA())?new Proxy(s,td):s)}function Er(s){if(s instanceof IDBRequest)return _A(s);if(qf.has(s))return qf.get(s);const e=AA(s);return e!==s&&(qf.set(s,e),Sd.set(e,s)),e}const Hf=s=>Sd.get(s);function bA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=Er(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Er(d.result),_.oldVersion,_.newVersion,Er(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const SA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],Gf=new Map;function zy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=RA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Gf.set(e,h),h}EA(s=>({...s,get:(e,i,a)=>zy(e,i)||s.get(e,i,a),has:(e,i)=>!!zy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",ky="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new tv("@firebase/app"),CA="@firebase/app-compat",NA="@firebase/analytics-compat",xA="@firebase/analytics",IA="@firebase/app-check-compat",VA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",UA="@firebase/database",LA="@firebase/data-connect",zA="@firebase/database-compat",kA="@firebase/functions",PA="@firebase/functions-compat",BA="@firebase/installations",jA="@firebase/installations-compat",qA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",QA="@firebase/performance-compat",FA="@firebase/remote-config",YA="@firebase/remote-config-compat",KA="@firebase/storage",XA="@firebase/storage-compat",ZA="@firebase/firestore",$A="@firebase/vertexai",JA="@firebase/firestore-compat",WA="firebase",tb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",eb={[ed]:"fire-core",[CA]:"fire-core-compat",[xA]:"fire-analytics",[NA]:"fire-analytics-compat",[VA]:"fire-app-check",[IA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[UA]:"fire-rtdb",[LA]:"fire-data-connect",[zA]:"fire-rtdb-compat",[kA]:"fire-fn",[PA]:"fire-fn-compat",[BA]:"fire-iid",[jA]:"fire-iid-compat",[qA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[QA]:"fire-perf-compat",[FA]:"fire-rc",[YA]:"fire-rc-compat",[KA]:"fire-gcs",[XA]:"fire-gcs-compat",[ZA]:"fire-fst",[JA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,nb=new Map,id=new Map;function Py(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const e=s.name;if(id.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,s);for(const i of tc.values())Py(i,s);for(const i of nb.values())Py(i,s);return!0}function iv(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function rv(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new W_("app","Firebase",ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=tb;function av(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:nd,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=$_()),!i)throw Tr.create("no-options");const h=tc.get(o);if(h){if(Wu(i,h.options)&&Wu(a,h.config))return h;throw Tr.create("duplicate-app",{appName:o})}const d=new cA(o);for(const _ of id.values())d.addComponent(_);const g=new rb(i,a,d);return tc.set(o,g),g}function lv(s=nd){const e=tc.get(s);if(!e&&s===nd&&$_())return av();if(!e)throw Tr.create("no-app",{appName:s});return e}function Ar(s,e,i){var a;let o=(a=eb[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(g.join(" "));return}to(new Aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebase-heartbeat-database",ab=1,eo="firebase-heartbeat-store";let Qf=null;function ov(){return Qf||(Qf=bA(sb,ab,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Tr.create("idb-open",{originalErrorMessage:s.message})})),Qf}async function lb(s){try{const i=(await ov()).transaction(eo),a=await i.objectStore(eo).get(uv(s));return await i.done,a}catch(e){if(e instanceof As)Pi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function By(s,e){try{const a=(await ov()).transaction(eo,"readwrite");await a.objectStore(eo).put(e,uv(s)),await a.done}catch(i){if(i instanceof As)Pi.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(a.message)}}}function uv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=1024,ub=30;class cb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=jy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>ub){const d=db(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=jy(),{heartbeatsToSend:a,unsentEntries:o}=hb(this._heartbeatsCache.heartbeats),h=Ju(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Pi.warn(i),""}}}function jy(){return new Date().toISOString().substring(0,10)}function hb(s,e=ob){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),qy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),qy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function qy(s){return Ju(JSON.stringify({version:2,heartbeats:s})).length}function db(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(s){to(new Aa("platform-logger",e=>new wA(e),"PRIVATE")),to(new Aa("heartbeat",e=>new cb(e),"PRIVATE")),Ar(ed,ky,s),Ar(ed,ky,"esm2017"),Ar("fire-js","")}mb("");var gb="firebase",pb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(gb,pb,"app");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,cv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,b){function D(){}D.prototype=b.prototype,V.D=b.prototype,V.prototype=new D,V.prototype.constructor=V,V.C=function(I,O,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return b.prototype[O].apply(I,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,D){D||(D=0);var I=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)I[O]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(O=0;16>O;++O)I[O]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=V.g[0],D=V.g[1],O=V.g[2];var U=V.g[3],w=b+(U^D&(O^U))+I[0]+3614090360&4294967295;b=D+(w<<7&4294967295|w>>>25),w=U+(O^b&(D^O))+I[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(D^U&(b^D))+I[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(b^O&(U^b))+I[3]+3250441966&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(U^D&(O^U))+I[4]+4118548399&4294967295,b=D+(w<<7&4294967295|w>>>25),w=U+(O^b&(D^O))+I[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(D^U&(b^D))+I[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(b^O&(U^b))+I[7]+4249261313&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(U^D&(O^U))+I[8]+1770035416&4294967295,b=D+(w<<7&4294967295|w>>>25),w=U+(O^b&(D^O))+I[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(D^U&(b^D))+I[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(b^O&(U^b))+I[11]+2304563134&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(U^D&(O^U))+I[12]+1804603682&4294967295,b=D+(w<<7&4294967295|w>>>25),w=U+(O^b&(D^O))+I[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(D^U&(b^D))+I[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(b^O&(U^b))+I[15]+1236535329&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(O^U&(D^O))+I[1]+4129170786&4294967295,b=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(b^D))+I[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(U^b))+I[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^b&(O^U))+I[0]+3921069994&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(D^O))+I[5]+3593408605&4294967295,b=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(b^D))+I[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(U^b))+I[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^b&(O^U))+I[4]+3889429448&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(D^O))+I[9]+568446438&4294967295,b=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(b^D))+I[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(U^b))+I[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^b&(O^U))+I[8]+1163531501&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(D^O))+I[13]+2850285829&4294967295,b=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(b^D))+I[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(U^b))+I[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^b&(O^U))+I[12]+2368359562&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(D^O^U)+I[5]+4294588738&4294967295,b=D+(w<<4&4294967295|w>>>28),w=U+(b^D^O)+I[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^D)+I[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^b)+I[14]+4259657740&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(D^O^U)+I[1]+2763975236&4294967295,b=D+(w<<4&4294967295|w>>>28),w=U+(b^D^O)+I[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^D)+I[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^b)+I[10]+3200236656&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(D^O^U)+I[13]+681279174&4294967295,b=D+(w<<4&4294967295|w>>>28),w=U+(b^D^O)+I[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^D)+I[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^b)+I[6]+76029189&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(D^O^U)+I[9]+3654602809&4294967295,b=D+(w<<4&4294967295|w>>>28),w=U+(b^D^O)+I[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^D)+I[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^b)+I[2]+3299628645&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(O^(D|~U))+I[0]+4096336452&4294967295,b=D+(w<<6&4294967295|w>>>26),w=U+(D^(b|~O))+I[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~D))+I[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~b))+I[5]+4237533241&4294967295,D=O+(w<<21&4294967295|w>>>11),w=b+(O^(D|~U))+I[12]+1700485571&4294967295,b=D+(w<<6&4294967295|w>>>26),w=U+(D^(b|~O))+I[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~D))+I[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~b))+I[1]+2240044497&4294967295,D=O+(w<<21&4294967295|w>>>11),w=b+(O^(D|~U))+I[8]+1873313359&4294967295,b=D+(w<<6&4294967295|w>>>26),w=U+(D^(b|~O))+I[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~D))+I[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~b))+I[13]+1309151649&4294967295,D=O+(w<<21&4294967295|w>>>11),w=b+(O^(D|~U))+I[4]+4149444226&4294967295,b=D+(w<<6&4294967295|w>>>26),w=U+(D^(b|~O))+I[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~D))+I[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~b))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+U&4294967295}a.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var D=b-this.blockSize,I=this.B,O=this.h,U=0;U<b;){if(O==0)for(;U<=D;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<b;)if(I[O++]=V.charCodeAt(U++),O==this.blockSize){o(this,I),O=0;break}}else for(;U<b;)if(I[O++]=V[U++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=b},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var D=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=D&255,D/=256;for(this.u(V),V=Array(16),b=D=0;4>b;++b)for(var I=0;32>I;I+=8)V[D++]=this.g[b]>>>I&255;return V};function h(V,b){var D=g;return Object.prototype.hasOwnProperty.call(D,V)?D[V]:D[V]=b(V)}function d(V,b){this.h=b;for(var D=[],I=!0,O=V.length-1;0<=O;O--){var U=V[O]|0;I&&U==b||(D[O]=U,I=!1)}this.g=D}var g={};function _(V){return-128<=V&&128>V?h(V,function(b){return new d([b|0],0>b?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return Z(v(-V));for(var b=[],D=1,I=0;V>=D;I++)b[I]=V/D|0,D*=4294967296;return new d(b,0)}function A(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return Z(A(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=v(Math.pow(b,8)),I=S,O=0;O<V.length;O+=8){var U=Math.min(8,V.length-O),w=parseInt(V.substring(O,O+U),b);8>U?(U=v(Math.pow(b,U)),I=I.j(U).add(v(w))):(I=I.j(D),I=I.add(v(w)))}return I}var S=_(0),N=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(et(this))return-Z(this).m();for(var V=0,b=1,D=0;D<this.g.length;D++){var I=this.i(D);V+=(0<=I?I:4294967296+I)*b,b*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(et(this))return"-"+Z(this).toString(V);for(var b=v(Math.pow(V,6)),D=this,I="";;){var O=vt(D,b).g;D=gt(D,O.j(b));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(V);if(D=O,X(D))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function et(V){return V.h==-1}s.l=function(V){return V=gt(this,V),et(V)?-1:X(V)?0:1};function Z(V){for(var b=V.g.length,D=[],I=0;I<b;I++)D[I]=~V.g[I];return new d(D,~V.h).add(N)}s.abs=function(){return et(this)?Z(this):this},s.add=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],I=0,O=0;O<=b;O++){var U=I+(this.i(O)&65535)+(V.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);I=w>>>16,U&=65535,w&=65535,D[O]=w<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function gt(V,b){return V.add(Z(b))}s.j=function(V){if(X(this)||X(V))return S;if(et(this))return et(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(et(V))return Z(this.j(Z(V)));if(0>this.l(j)&&0>V.l(j))return v(this.m()*V.m());for(var b=this.g.length+V.g.length,D=[],I=0;I<2*b;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<V.g.length;O++){var U=this.i(I)>>>16,w=this.i(I)&65535,Me=V.i(O)>>>16,re=V.i(O)&65535;D[2*I+2*O]+=w*re,pt(D,2*I+2*O),D[2*I+2*O+1]+=U*re,pt(D,2*I+2*O+1),D[2*I+2*O+1]+=w*Me,pt(D,2*I+2*O+1),D[2*I+2*O+2]+=U*Me,pt(D,2*I+2*O+2)}for(I=0;I<b;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=b;I<2*b;I++)D[I]=0;return new d(D,0)};function pt(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function lt(V,b){this.g=V,this.h=b}function vt(V,b){if(X(b))throw Error("division by zero");if(X(V))return new lt(S,S);if(et(V))return b=vt(Z(V),b),new lt(Z(b.g),Z(b.h));if(et(b))return b=vt(V,Z(b)),new lt(Z(b.g),b.h);if(30<V.g.length){if(et(V)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var D=N,I=b;0>=I.l(V);)D=rt(D),I=rt(I);var O=bt(D,1),U=bt(I,1);for(I=bt(I,2),D=bt(D,2);!X(I);){var w=U.add(I);0>=w.l(V)&&(O=O.add(D),U=w),I=bt(I,1),D=bt(D,1)}return b=gt(V,O.j(b)),new lt(O,b)}for(O=S;0<=V.l(b);){for(D=Math.max(1,Math.floor(V.m()/b.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(D),w=U.j(b);et(w)||0<w.l(V);)D-=I,U=v(D),w=U.j(b);X(U)&&(U=N),O=O.add(U),V=gt(V,w)}return new lt(O,V)}s.A=function(V){return vt(this,V).h},s.and=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],I=0;I<b;I++)D[I]=this.i(I)&V.i(I);return new d(D,this.h&V.h)},s.or=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],I=0;I<b;I++)D[I]=this.i(I)|V.i(I);return new d(D,this.h|V.h)},s.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],I=0;I<b;I++)D[I]=this.i(I)^V.i(I);return new d(D,this.h^V.h)};function rt(V){for(var b=V.g.length+1,D=[],I=0;I<b;I++)D[I]=V.i(I)<<1|V.i(I-1)>>>31;return new d(D,V.h)}function bt(V,b){var D=b>>5;b%=32;for(var I=V.g.length-D,O=[],U=0;U<I;U++)O[U]=0<b?V.i(U+D)>>>b|V.i(U+D+1)<<32-b:V.i(U+D);return new d(O,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,cv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,br=d}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hv,Ql,fv,Fu,rd,dv,mv,gv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function S(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,N.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,tt)}}function et(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=T[tt]}else u.push(T)}}class gt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var rt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function bt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<D.length;q++)p=D[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new gt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ct=!1,Pt=new Me,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Dt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(rt){t:{try{vt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}X(Dt,W);var Et={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),$t=0;function qn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++$t,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Mr(u,m,T,L);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new qn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Or(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Hi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Mr(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),Ma={};function go(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)go(u,m[q],p,T,L);return null}return p=po(p),u&&u[De]?u.K(m,p,v(T)?!!T.capture:!1,L):Tn(u,m,p,!1,T,L)}function Tn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=v(L)?!!L.capture:!!L,Vt=ws(u);if(Vt||(u[Ur]=Vt=new hi(u)),p=Vt.add(m,p,T,tt,q),p.proxy)return p;if(T=Uc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ht||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Uc(){function u(p){return m.call(u.src,u.listener,p)}const m=Lc;return u}function Ua(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ua(u,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=po(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Mr(q,p,T,L),-1<p&&(Hi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Mr(m,p,T,L)),(p=-1<u?m[u]:null)&&Rs(p))}function Rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Or(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Lr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ws(m))?(Or(p,u),p.h==0&&(p.src=null,m[Ur]=null)):Hi(u)}}}function Lr(u){return u in Ma?Ma[u]:Ma[u]="on"+u}function Lc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Rs(u),u=p.call(T,m)}return u}function ws(u){return u=u[Ur],u instanceof hi?u:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(u){return typeof u=="function"?u:(u[La]||(u[La]=function(m){return u.handleEvent(m)}),u[La])}function se(){it.call(this),this.i=new hi(this),this.M=this,this.F=null}X(se,it),se.prototype[De]=!0,se.prototype.removeEventListener=function(u,m,p,T){Ua(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),I(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=un(tt,T,!0,m)&&L}if(tt=m.g=u,L=un(tt,T,!0,m)&&L,L=un(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=un(tt,T,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Hi(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function un(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Vt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&Or(u.i,tt),L=Vt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ge(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function yo(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){it.call(this),this.h=u,this.g={}}X(zr,it);var kr=[];function Pr(u){bt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Rs(m)},u),u.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Pr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=g.JSON.stringify,Ds=g.JSON.parse,Br=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function za(){}za.prototype.h=null;function ka(u){return u.h||(u.h=u.i())}function Pa(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){W.call(this,"d")}X(di,W);function Ba(){W.call(this,"c")}X(Ba,W);var Hn={},ja=null;function Gi(){return ja=ja||new se}Hn.La="serverreachability";function Cs(u){W.call(this,Hn.La,u)}X(Cs,W);function Qi(u){const m=Gi();Ht(m,new Cs(m))}Hn.STAT_EVENT="statevent";function _o(u,m){W.call(this,Hn.STAT_EVENT,u),this.stat=m}X(_o,W);function Wt(u){const m=Gi();Ht(m,new _o(m,u))}Hn.Ma="timingevent";function ve(u,m){W.call(this,Hn.Ma,u),this.size=m}X(ve,W);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function qa(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var tt="",Vt=q.split("&"),Ee=0;Ee<Vt.length;Ee++){var Ot=Vt[Ee].split("=");if(1<Ot.length){var Ne=Ot[0];Ot=Ot[1];var Te=Ne.split("_");tt=2<=Te.length&&Te[1]=="type"?tt+(Ne+"="+Ot+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function kc(u,m,p,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function Fi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jr(u,p)+(T?" "+T:"")})}function vo(u,m){u.info(function(){return"TIMEOUT: "+m})}An.prototype.info=function(){};function jr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Ln(p)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Qn(){}X(Qn,za),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Gn=new Qn;function Ze(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Ha={},Ns={};function zn(u,m,p){u.L=1,u.v=Fr(cn(m)),u.m=p,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),qr(u),u.A=cn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Xa(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=Uo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new zc(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(kr[0]=L.toString()),L=kr);for(var q=0;q<L.length;q++){var tt=go(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),qa(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&wn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Te=wn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Te!=4||m==7||(m==8||0>=bi?Qi(3):Qi(2)),Ki(this);var p=this.g.Z();this.X=p;e:if(Eo(this)){var T=Do(this.g);u="";var L=T.length,q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Fn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,kc(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ee=this.g;if((Vt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Vt)){var Ot=Vt;break e}}Ot=null}if(p=Ot)Fi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,p);else{this.o=!1,this.s=3,Wt(12),Ue(this),Fn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<tt.length;)if(Le=To(this,tt),Le==Ns){Te==4&&(this.s=4,Wt(14),p=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Ha){this.s=4,Wt(15),Fi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Fi(this.i,this.l,Le,null),Hr(this,Le);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Fi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),Fn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ts(Ne),Ne.M=!0,Wt(11))}}else Fi(this.i,this.l,tt,null),Hr(this,tt);Te==4&&Ue(this),this.o&&!this.J&&(Te==4?Vo(this.j,this):(this.o=!1,qr(this)))}else Hc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ue(this),Fn(this)}}}catch{}finally{}};function Eo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function To(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ns:(p=Number(m.substring(p,T)),isNaN(p)?Ha:(T+=1,T+p>m.length?Ns:(m=m.slice(T,T+p),u.C=T+p,m)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function qr(u){u.S=Date.now()+u.I,Ao(u,u.I)}function Ao(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(N(u.ba,u),m)}function Ki(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vo(this.i,this.A),this.L!=2&&(Qi(),Wt(17)),Ue(this),this.s=2,Fn(this)):Ao(this,this.S-u)};function Fn(u){u.j.G==0||u.J||Vo(u.j,u)}function Ue(u){Ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Hr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ga(p.h,u))){if(!u.K&&Ga(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)js(p),Ps(p);else break t;tl(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(N(p.Za,p),6e3));if(1>=Is(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ai(p,11)}else if((u.K||p.g==u)&&js(p),!pt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ne=Ot[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Te=Ot[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const bi=Ot[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Wn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var q=T.h;q.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vs(q,q.h),q.h=null))}if(T.D){const nl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(T.ya=nl,Ft(T.I,T.D,nl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Mo(T,T.J?T.ia:null,T.W),tt.K){$e(T.h,tt);var Vt=tt,Ee=T.L;Ee&&(Vt.I=Ee),Vt.B&&(Ki(Vt),qr(Vt)),T.g=tt}else xo(T);0<p.i.length&&Bs(p)}else Ot[0]!="stop"&&Ot[0]!="close"||Ai(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Ai(p,7):Ja(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Qi(4)}catch{}}var bo=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Is(u){return u.h?1:u.g?u.g.size:0}function Ga(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vs(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=Qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return et(u.i)}function Pc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Os(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Fa(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Os(u),T=Pc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Qr(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,p=new _i;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),yi(this,p),this.m=u.m}else u&&(m=String(u).match(Gr))?(this.h=!1,Qr(this,m[1]||"",!0),this.o=bn(m[2]||""),this.g=bn(m[3]||"",!0),Xi(this,m[4]),this.l=bn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=bn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,Ya,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,Ya,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Yr(p,p.charAt(0)=="/"?jc:Ka,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Yr(p,Ms)),u.join("")};function cn(u){return new ge(u)}function Qr(u,m,p){u.j=p?bn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,p){m instanceof _i?(u.i=m,Ro(u.i,u.h)):(p||(m=Yr(m,qc)),u.i=new _i(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function Fr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,So),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function So(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ya=/[#\/\?@]/g,Ka=/[#\?:]/g,jc=/[#\?]/g,qc=/[#\?@]/g,Ms=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=_i.prototype,s.add=function(u,m){Sn(this),this.i=null,u=Yn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function vi(u,m){Sn(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return Sn(u),m=Yn(u,m),u.g.has(m)}s.forEach=function(u,m){Sn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},s.na=function(){Sn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},s.V=function(u){Sn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return Sn(this),this.i=null,u=Yn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xa(u,m,p){vi(u,m),0<p.length&&(u.i=null,u.g.set(Yn(u,m),et(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ro(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(vi(this,T),Xa(this,L,p))},u)),u.j=m}function Kr(u,m){const p=new An;if(g.Image){const T=new Image;T.onload=j(Rn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(Rn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(Rn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(Rn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function kn(u,m){const p=new An,T=new AbortController,L=setTimeout(()=>{T.abort(),Rn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Rn(p,"TestPingServer: ok",!0,m):Rn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(p,"TestPingServer: error",!1,m)})}function Rn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Xr(){this.g=new Br}function Kn(u,m,p){const T=p||"";try{Fa(u,function(L,q){let tt=L;v(L)&&(tt=Ln(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Zi,za),Zi.prototype.g=function(){return new Ti(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ti,se),s=Ti.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Za(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Za(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):Zn(this),this.readyState==3&&Za(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},s.Qa=function(u){this.g&&(this.response=u,Xn(this))},s.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $a(u){let m="";return bt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=$a(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,se);var Us=/^https?$/i,Zr=["POST","PUT"];s=jt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?ka(this.o):ka(Gn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){wo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){wo(this,q)}};function wo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ls(u),$n(u)}function Ls(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),$n(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),jt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},s.bb=function(){zs(this)};function zs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),wn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(u.D).match(Gr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Us.test(L?L.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<wn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ls(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){$r(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function $r(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ds(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(u){const m={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var p=O(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}V(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ks(u){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,u),this.cb=Jr("retryDelaySeedMs",1e4,u),this.Wa=Jr("forwardChannelMaxRetries",2,u),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new Xr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ks.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Mo(this,null,this.W),Bs(this)};function Ja(u){if(Co(u),u.G==3){var m=u.U++,p=cn(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Wr(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=Fr(cn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Uo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qr(m)}Oo(u)}function Ps(u){u.g&&(ts(u),u.g.cancel(),u.g=null)}function Co(u){Ps(u),u.u&&(g.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Bs(u){if(!xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ct||(nt(),ct=!0),Pt.add(m,u),u.B=0}}function Gc(u,m){return Is(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(N(u.Ga,u,m),el(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ze(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=No(this,L,m),p=cn(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Wr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String($a(q)))+"&"+m:this.m&&Ce(p,this.m,q)),Vs(this.h,L),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),L.T=!0,zn(L,p,null)):zn(L,p,m),this.G=2}}else this.G==3&&(u?Wa(this,u):this.i.length==0||xs(this.h)||Wa(this))};function Wa(u,m){var p;m?p=m.l:p=u.U++;const T=cn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Wr(u,T),u.m&&u.o&&Ce(T,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Vs(u.h,p),zn(p,T,m)}function Wr(u,m){u.H&&bt(u.H,function(p,T){Ft(m,T,p)}),u.l&&Fa({},function(p,T){Ft(m,T,p)})}function No(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Vt=!0;for(let Ee=0;Ee<p;Ee++){let Ot=L[Ee].g;const Ne=L[Ee].map;if(Ot-=q,0>Ot)q=Math.max(0,L[Ee].g-100),Vt=!1;else try{Kn(Ne,tt,"req"+Ot+"_")}catch{T&&T(Ne)}}if(Vt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function xo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ct||(nt(),ct=!0),Pt.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(N(u.Fa,u),el(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ps(this),Io(this))};function ts(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Io(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Wr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Fr(cn(m)),p.m=null,p.P=!0,gi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Ps(this),tl(this),Wt(19))};function js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){js(u),ts(u),u.g=null;var T=2}else if(Ga(u.h,m))p=m.D,$e(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Gi(),Ht(T,new ve(T,p)),Bs(u)}else xo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Gc(u,m)||T==2&&tl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function el(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const L=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Qr(T,"https"),Fr(T),L?Kr(T.toString(),p):kn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Oo(u),Co(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Oo(u){if(u.G=0,u.ka=[],u.l){const m=Qa(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function Mo(u,m,p){var T=p instanceof ge?cn(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new ge(null);T&&Qr(q,T),m&&(q.g=m),L&&Xi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Wr(u,T),T}function Uo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Zi({eb:p})):new jt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}s=Lo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function qs(){}qs.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){se.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}X(Je,se),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Ja(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Ln(u),u=p);m.i.push(new bo(m.Ya++,u)),m.G==3&&Bs(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Ja(this.g),delete this.g,Je.aa.N.call(this)};function zo(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(zo,di);function ko(){Ba.call(this),this.status=1}X(ko,Ba);function Jn(u){this.g=u}X(Jn,Lo),Jn.prototype.ua=function(){Ht(this.g,"a")},Jn.prototype.ta=function(u){Ht(this.g,new zo(u))},Jn.prototype.sa=function(u){Ht(this.g,new ko)},Jn.prototype.ra=function(){Ht(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,gv=function(){return new qs},mv=function(){return Gi()},dv=Hn,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Fu=Yi,mi.COMPLETE="complete",fv=mi,Pa.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",se.prototype.listen=se.prototype.K,Ql=Pa,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,hv=jt}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Qy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new tv("@firebase/firestore");function ya(){return vs.logLevel}function st(s,...e){if(vs.logLevel<=Lt.DEBUG){const i=e.map(Rd);vs.debug(`Firestore (${xa}): ${s}`,...i)}}function Bi(s,...e){if(vs.logLevel<=Lt.ERROR){const i=e.map(Rd);vs.error(`Firestore (${xa}): ${s}`,...i)}}function ba(s,...e){if(vs.logLevel<=Lt.WARN){const i=e.map(Rd);vs.warn(`Firestore (${xa}): ${s}`,...i)}}function Rd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+s;throw Bi(e),new Error(e)}function qt(s,e){s||_t()}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class _b{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class vb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new zi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new zi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new pv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Ke(e)}}class Eb{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Tb{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new Eb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ab{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,rv(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Fy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new Fy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function wt(s,e){return s<e?-1:s>e?1:0}function sd(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return wt(a,o);{const h=yv(),d=Sb(h.encode(Yy(s,i)),h.encode(Yy(e,i)));return d!==0?d:wt(a,o)}}i+=a>65535?2:1}return wt(s.length,e.length)}function Yy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function Sb(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return wt(s[i],e[i]);return wt(s.length,e.length)}function Sa(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,Xy=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Xy);return new Re(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ky)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xy}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__name__";class si{constructor(e,i,a){i===void 0?i=0:i>e.length&&_t(),a===void 0?a=e.length-i:a>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=si.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const a=si.isNumericId(e),o=si.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):sd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class ee extends si{construct(e,i,a){return new ee(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const Rb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends si{construct(e,i,a){return new qe(e,i,a)}static isValidIdentifier(e){return Rb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new qe([Zy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ee.fromString(e))}static fromName(e){return new ft(ee.fromString(e).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function wb(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new Re(i+1,0):new Re(i,a));return new Rr(o,ft.empty(),e)}function Db(s){return new Rr(s.readTime,s.key,no)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(Tt.min(),ft.empty(),no)}static max(){return new Rr(Tt.max(),ft.empty(),no)}}function Cb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:wt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Nb)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,a)=>{i(e)})}static reject(e){return new Y((i,a)=>{a(e)})}static waitFor(e){return new Y((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next(o=>o?Y.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Y((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new Y((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function Ib(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Va(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}mc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function gc(s){return s==null}function ec(s){return s===0&&1/s==-1/0}function Vb(s){return typeof s=="number"&&Number.isInteger(s)&&!ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="";function Ob(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=$y(e)),e=Mb(s.get(i),e);return $y(e)}function Mb(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case vv:i+="";break;default:i+=h}}return i}function $y(s){return s+vv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Ev(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new je(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,a,o,h){return this}insert(e,i,a){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new _n([])}unionWith(e){let i=new we(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Tv("Invalid base64 string: "+h):h}}(e);return new He(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const Ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(qt(!!s),typeof s=="string"){let e=0;const i=Ub.exec(s);if(qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?He.fromBase64String(s):He.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="server_timestamp",bv="__type__",Sv="__previous_value__",Rv="__local_write_time__";function Dd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[bv])===null||i===void 0?void 0:i.stringValue)===Av}function pc(s){const e=s.mapValue.fields[Sv];return Dd(e)?pc(e):e}function io(s){const e=wr(s.mapValue.fields[Rv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i,a,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const nc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__type__",zb="__max__",ju={mapValue:{}},Dv="__vector__",ic="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dd(s)?4:Pb(s)?9007199254740991:kb(s)?10:11:_t()}function ui(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return io(s).isEqual(io(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=wr(o.timestampValue),g=wr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Dr(o.bytesValue).isEqual(Dr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?ec(d)===ec(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return Sa(s.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Jy(d)!==Jy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ui(d[_],g[_])))return!1;return!0}(s,e);default:return _t()}}function so(s,e){return(s.values||[]).find(i=>ui(i,e))!==void 0}function Ra(s,e){if(s===e)return 0;const i=Cr(s),a=Cr(e);if(i!==a)return wt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),_=de(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return t_(s.timestampValue,e.timestampValue);case 4:return t_(io(s),io(e));case 5:return sd(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Dr(h),_=Dr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=wt(g[v],_[v]);if(A!==0)return A}return wt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(de(h.latitude),de(d.latitude));return g!==0?g:wt(de(h.longitude),de(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return e_(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const S=h.fields||{},N=d.fields||{},j=(g=S[ic])===null||g===void 0?void 0:g.arrayValue,X=(_=N[ic])===null||_===void 0?void 0:_.arrayValue,et=wt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return et!==0?et:e_(j,X)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===ju.mapValue&&d===ju.mapValue)return 0;if(h===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const N=sd(_[S],A[S]);if(N!==0)return N;const j=Ra(g[_[S]],v[A[S]]);if(j!==0)return j}return wt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw _t()}}function t_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return wt(s,e);const i=wr(s),a=wr(e),o=wt(i.seconds,a.seconds);return o!==0?o:wt(i.nanos,a.nanos)}function e_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ra(i[o],a[o]);if(h)return h}return wt(i.length,a.length)}function wa(s){return ad(s)}function ad(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Dr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=ad(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${ad(i.fields[d])}`;return o+"}"}(s.mapValue):_t()}function Yu(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(s);return e?16+Yu(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Yu(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Ir(a.fields,(h,d)=>{o+=h.length+Yu(d)}),o}(s.mapValue);default:throw _t()}}function ld(s){return!!s&&"integerValue"in s}function Cd(s){return!!s&&"arrayValue"in s}function n_(s){return!!s&&"nullValue"in s}function i_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ku(s){return!!s&&"mapValue"in s}function kb(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[wv])===null||i===void 0?void 0:i.stringValue)===Dv}function Xl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ir(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Xl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Pb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=qe.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new ln(Xl(this.value))}}function Cv(s){const e=[];return Ir(s.fields,(i,a)=>{const o=new qe([i]);if(Ku(a)){const h=Cv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,Tt.min(),Tt.min(),Tt.min(),ln.empty(),0)}static newFoundDocument(e,i,a,o){return new Xe(e,1,i,Tt.min(),a,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Tt.min(),Tt.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Tt.min(),Tt.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.position=e,this.inclusive=i}}function r_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Ra(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function s_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ui(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Bb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Se extends Nv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new qb(e,i,a):i==="array-contains"?new Qb(e,a):i==="in"?new Fb(e,a):i==="not-in"?new Yb(e,a):i==="array-contains-any"?new Kb(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Hb(e,a):new Gb(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ra(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Ra(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ci(e,i)}matches(e){return xv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xv(s){return s.op==="and"}function Iv(s){return jb(s)&&xv(s)}function jb(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function od(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+wa(s.value);if(Iv(s))return s.filters.map(e=>od(e)).join(",");{const e=s.filters.map(i=>od(i)).join(",");return`${s.op}(${e})`}}function Vv(s,e){return s instanceof Se?function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&ui(a.value,o.value)}(s,e):s instanceof ci?function(a,o){return o instanceof ci&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&Vv(d,o.filters[g]),!0):!1}(s,e):void _t()}function Ov(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${wa(i.value)}`}(s):s instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"}(s):"Filter"}class qb extends Se{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class Hb extends Se{constructor(e,i){super(e,"in",i),this.keys=Mv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Gb extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Mv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Mv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class Qb extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Cd(i)&&so(i.arrayValue,this.value)}}class Fb extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class Yb extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!so(this.value.arrayValue,i)}}class Kb extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>so(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function a_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new Xb(s,e,i,a,o,h,d)}function Nd(s){const e=At(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>od(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>wa(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>wa(a)).join(",")),e.le=i}return e.le}function xd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Bb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Vv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!s_(s.startAt,e.startAt)&&s_(s.endAt,e.endAt)}function ud(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Zb(s,e,i,a,o,h,d,g){return new yc(s,e,i,a,o,h,d,g)}function _c(s){return new yc(s)}function l_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $b(s){return s.collectionGroup!==null}function Zl(s){const e=At(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(qe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new sc(h,a))}),i.has(qe.keyField().canonicalString())||e.he.push(new sc(qe.keyField(),a))}return e.he}function li(s){const e=At(s);return e.Pe||(e.Pe=Jb(e,Zl(s))),e.Pe}function Jb(s,e){if(s.limitType==="F")return a_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new sc(o.field,h)});const i=s.endAt?new rc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rc(s.startAt.position,s.startAt.inclusive):null;return a_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function cd(s,e,i){return new yc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vc(s,e){return xd(li(s),li(e))&&s.limitType===e.limitType}function Uv(s){return`${Nd(li(s))}|lt:${s.limitType}`}function _a(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Ov(o)).join(", ")}]`),gc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>wa(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>wa(o)).join(",")),`Target(${a})`}(li(s))}; limitType=${s.limitType})`}function Ec(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Zl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=r_(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Zl(a),o)||a.endAt&&!function(d,g,_){const v=r_(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Zl(a),o))}(s,e)}function Wb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lv(s){return(e,i)=>{let a=!1;for(const o of Zl(s)){const h=tS(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function tS(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Ra(_,v):_t()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return Ev(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new ie(ft.comparator);function ji(){return eS}const zv=new ie(ft.comparator);function Fl(...s){let e=zv;for(const i of s)e=e.insert(i.key,i);return e}function kv(s){let e=zv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ys(){return $l()}function Pv(){return $l()}function $l(){return new bs(s=>s.toString(),(s,e)=>s.isEqual(e))}const nS=new ie(ft.comparator),iS=new we(ft.comparator);function It(...s){let e=iS;for(const i of s)e=e.add(i);return e}const rS=new we(wt);function sS(){return rS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Bv(s){return{integerValue:""+s}}function aS(s,e){return Vb(e)?Bv(e):Id(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function lS(s,e,i){return s instanceof ao?function(o,h){const d={fields:{[bv]:{stringValue:Av},[Rv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Dd(h)&&(h=pc(h)),h&&(d.fields[Sv]=h),{mapValue:d}}(i,e):s instanceof lo?qv(s,e):s instanceof oo?Hv(s,e):function(o,h){const d=jv(o,h),g=o_(d)+o_(o.Ie);return ld(d)&&ld(o.Ie)?Bv(g):Id(o.serializer,g)}(s,e)}function oS(s,e,i){return s instanceof lo?qv(s,e):s instanceof oo?Hv(s,e):i}function jv(s,e){return s instanceof ac?function(a){return ld(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class ao extends Tc{}class lo extends Tc{constructor(e){super(),this.elements=e}}function qv(s,e){const i=Gv(e);for(const a of s.elements)i.some(o=>ui(o,a))||i.push(a);return{arrayValue:{values:i}}}class oo extends Tc{constructor(e){super(),this.elements=e}}function Hv(s,e){let i=Gv(e);for(const a of s.elements)i=i.filter(o=>!ui(o,a));return{arrayValue:{values:i}}}class ac extends Tc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function o_(s){return de(s.integerValue||s.doubleValue)}function Gv(s){return Cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.field=e,this.transform=i}}function cS(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof lo&&o instanceof lo||a instanceof oo&&o instanceof oo?Sa(a.elements,o.elements,ui):a instanceof ac&&o instanceof ac?ui(a.Ie,o.Ie):a instanceof ao&&o instanceof ao}(s.transform,e.transform)}class hS{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ac{}function Qv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Vd(s.key,Un.none()):new uo(s.key,s.data,Un.none());{const i=s.data,a=ln.empty();let o=new we(qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Vr(s.key,a,new _n(o.toArray()),Un.none())}}function fS(s,e,i){s instanceof uo?function(o,h,d){const g=o.value.clone(),_=c_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Vr?function(o,h,d){if(!Xu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=c_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Fv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(s,e,i,a){return s instanceof uo?function(h,d,g,_){if(!Xu(h.precondition,d))return g;const v=h.value.clone(),A=h_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Vr?function(h,d,g,_){if(!Xu(h.precondition,d))return g;const v=h_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Fv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(S=>S.field))}(s,e,i,a):function(h,d,g){return Xu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function dS(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=jv(a.transform,o||null);h!=null&&(i===null&&(i=ln.empty()),i.set(a.field,h))}return i||null}function u_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Sa(a,o,(h,d)=>cS(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uo extends Ac{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends Ac{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Fv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function c_(s,e,i){const a=new Map;qt(s.length===i.length);for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,oS(d,g,i[o]))}return a}function h_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,lS(h,d,e))}return a}class Vd extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mS extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&fS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Pv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Qv(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(i,a)=>u_(i,a))&&Sa(this.baseMutations,e.baseMutations,(i,a)=>u_(i,a))}}class Od{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length);let o=function(){return nS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Od(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function _S(s){switch(s){case J.OK:return _t();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t()}}function Yv(s){if(s===void 0)return Bi("GRPC error has no .code"),J.UNKNOWN;switch(s){case _e.OK:return J.OK;case _e.CANCELLED:return J.CANCELLED;case _e.UNKNOWN:return J.UNKNOWN;case _e.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case _e.INTERNAL:return J.INTERNAL;case _e.UNAVAILABLE:return J.UNAVAILABLE;case _e.UNAUTHENTICATED:return J.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case _e.NOT_FOUND:return J.NOT_FOUND;case _e.ALREADY_EXISTS:return J.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return J.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case _e.ABORTED:return J.ABORTED;case _e.OUT_OF_RANGE:return J.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return J.UNIMPLEMENTED;case _e.DATA_LOSS:return J.DATA_LOSS;default:return _t()}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new br([4294967295,4294967295],0);function f_(s){const e=yv().encode(s),i=new cv;return i.update(e),new Uint8Array(i.digest())}function d_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new br([i,a],0),new br([o,h],0)]}class Md{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=br.fromNumber(this.Ee)}Ae(e,i,a){let o=e.add(i.multiply(br.fromNumber(a)));return o.compare(vS)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=f_(e),[a,o]=d_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Md(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=f_(e),[a,o]=d_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bc(Tt.min(),o,new ie(wt),ji(),It())}}class co{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new co(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i,a,o){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=o}}class Kv{constructor(e,i){this.targetId=e,this.ge=i}}class Xv{constructor(e,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class m_{constructor(){this.pe=0,this.ye=g_(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),i=It(),a=It();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_t()}}),new co(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=g_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ES{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=qu(),this.Ue=qu(),this.Ke=new ie(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,a=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(ud(h))if(a===0){const d=new ft(h.path);this.ze(i,d,Xe.newNoDocument(d,Tt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Dr(a).toUint8Array()}catch(_){if(_ instanceof Tv)return ba("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Md(d,o,h)}catch(_){return ba(_ instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&ud(g.target)){const _=new ft(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Xe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=It();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new bc(e,i,this.Ke,this.Qe,a);return this.Qe=ji(),this.$e=qu(),this.Ue=qu(),this.Ke=new ie(wt),o}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new m_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new m_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function qu(){return new ie(ft.comparator)}function g_(){return new ie(ft.comparator)}const TS={asc:"ASCENDING",desc:"DESCENDING"},AS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bS={and:"AND",or:"OR"};class SS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(s,e){return s.useProto3Json||gc(e)?e:{value:e}}function lc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RS(s,e){return lc(s,e.toTimestamp())}function oi(s){return qt(!!s),Tt.fromTimestamp(function(i){const a=wr(i);return new Re(a.seconds,a.nanos)}(s))}function Ud(s,e){return fd(s,e).canonicalString()}function fd(s,e){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function $v(s){const e=ee.fromString(s);return qt(n0(e)),e}function dd(s,e){return Ud(s.databaseId,e.path)}function Ff(s,e){const i=$v(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Wv(i))}function Jv(s,e){return Ud(s.databaseId,e)}function wS(s){const e=$v(s);return e.length===4?ee.emptyPath():Wv(e)}function md(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Wv(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function p_(s,e,i){return{name:dd(s,e),fields:i.value.mapValue.fields}}function DS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string"),He.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),He.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?J.UNKNOWN:Yv(v.code);return new ut(A,v.message||"")}(d);i=new Xv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Ff(s,a.document.name),h=oi(a.document.updateTime),d=a.document.createTime?oi(a.document.createTime):Tt.min(),g=new ln({mapValue:{fields:a.document.fields}}),_=Xe.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Zu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Ff(s,a.document),h=a.readTime?oi(a.readTime):Tt.min(),d=Xe.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Zu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Ff(s,a.document),h=a.removedTargetIds||[];i=new Zu([],h,o,null)}else{if(!("filter"in e))return _t();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new yS(o,h),g=a.targetId;i=new Kv(g,d)}}return i}function CS(s,e){let i;if(e instanceof uo)i={update:p_(s,e.key,e.value)};else if(e instanceof Vd)i={delete:dd(s,e.key)};else if(e instanceof Vr)i={update:p_(s,e.key,e.data),updateMask:zS(e.fieldMask)};else{if(!(e instanceof mS))return _t();i={verify:dd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof ao)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw _t()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:RS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t()}(s,e.precondition)),i}function NS(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(o,h){let d=o.updateTime?oi(o.updateTime):oi(h);return d.isEqual(Tt.min())&&(d=oi(h)),new hS(d,o.transformResults||[])}(i,e))):[]}function xS(s,e){return{documents:[Jv(s,e.path)]}}function IS(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Jv(s,o);const h=function(v){if(v.length!==0)return e0(ci.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:va(N.field),direction:MS(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:o}}function VS(s){let e=wS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(S){const N=t0(S);return N instanceof ci&&Iv(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(N=>function(X){return new sc(Ea(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(S){let N;return N=typeof S=="object"?S.value:S,gc(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(S){const N=!!S.before,j=S.values||[];return new rc(j,N)}(i.startAt));let v=null;return i.endAt&&(v=function(S){const N=!S.before,j=S.values||[];return new rc(j,N)}(i.endAt)),Zb(e,o,d,h,g,"F",_,v)}function OS(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ea(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ea(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ea(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ea(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(s):s.fieldFilter!==void 0?function(i){return Se.create(Ea(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(a=>t0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(s):_t()}function MS(s){return TS[s]}function US(s){return AS[s]}function LS(s){return bS[s]}function va(s){return{fieldPath:s.canonicalString()}}function Ea(s){return qe.fromServerFormat(s.fieldPath)}function e0(s){return s instanceof Se?function(i){if(i.op==="=="){if(i_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NAN"}};if(n_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NAN"}};if(n_(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(i.field),op:US(i.op),value:i.value}}}(s):s instanceof ci?function(i){const a=i.getFilters().map(o=>e0(o));return a.length===1?a[0]:{compositeFilter:{op:LS(i.op),filters:a}}}(s):_t()}function zS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function n0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i,a,o,h=Tt.min(),d=Tt.min(),g=He.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Tt=e}}function PS(s){const e=VS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.Tn=new jS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Rr.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class jS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new we(ee.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new we(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(i0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Da(0)}static Kn(){return new Da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",qS=1048576;function v_([s,e],[i,a]){const o=wt(s,i);return o===0?wt(e,a):o}class HS{constructor(e){this.Hn=e,this.buffer=new we(v_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();v_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){st(__,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Va(i)?st(__,"Ignoring IndexedDB error during garbage collection: ",i):await Ia(i)}await this.er(3e5)})}}class QS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(mc.ae);const a=new HS(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(y_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,g=Date.now(),this.removeTargets(e,a,i))).next(S=>(h=S,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(v=Date.now(),ya()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S})))}}function FS(s,e){return new QS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.changes=new bs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Jl(a.mutation,o,_n.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const o=ys();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Fl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ys();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=ji();const d=$l(),g=function(){return $l()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Vr)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Jl(A.mutation,v,A.mutation.getFieldMask(),Re.now())):d.set(v.key,_n.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var S;return g.set(v,new KS(A,(S=d.get(v))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const a=$l();let o=new ie((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||_n.empty();A=g.applyToLocalView(v,A),a.set(_,A);const S=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,S=Pv();A.forEach(N=>{if(!h.has(N)){const j=Qv(i.get(N),a.get(N));j!==null&&S.set(N,j),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Y.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):$b(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Y.resolve(ys());let g=no,_=h;return d.next(v=>Y.forEach(v,(A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{_=_.insert(A,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,It())).next(A=>({batchId:g,changes:kv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let o=Fl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(S,N){return new yc(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((S,N)=>{d=d.insert(S,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))});let g=Fl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Jl(A.mutation,v,_n.empty(),Re.now()),Ec(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Y.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:PS(o.bundledQuery),readTime:oi(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.overlays=new ie(ft.comparator),this.Rr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ys();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.Et(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const o=ys(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=ys(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=ys(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pS(i,a));let h=this.Rr.get(i);h===void 0&&(h=It(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.Vr=new we(Oe.mr),this.gr=new we(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ft(new ee([])),a=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ft(new ee([])),a=new Oe(i,e),o=new Oe(i,e+1);let h=It();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ft.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Oe.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?wd:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const g=this.Or(d.Cr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new we(wt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Y.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ft(h),0);let g=new we(wt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Cr)),!0)},d),Y.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Y.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Oe(i,0),o=this.Mr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.kr=e,this.docs=function(){return new ie(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let a=ji();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ji();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Cb(Db(A),a)<=0||(o.has(A.key)||Ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,o){_t()}qr(e,i){return Y.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new e1(this)}getSize(e){return Y.resolve(this.size)}}class e1 extends YS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),Y.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.persistence=e,this.Qr=new bs(i=>Nd(i),xd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ld,this.targetCount=0,this.Kr=Da.Un()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Y.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Da(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.zn(i),Y.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new mc(0),this.zr=!1,this.zr=!0,this.jr=new JS,this.referenceDelegate=e(this),this.Hr=new n1(this),this.indexManager=new BS,this.remoteDocumentCache=function(o){return new t1(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new kS(i),this.Yr=new ZS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $S,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new WS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new i1(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return Y.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class i1 extends xb{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.ti=new Ld,this.ni=null}static ri(e){return new zd(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Y.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,a=>{const o=ft.fromPath(a);return this.si(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Y.or([()=>Y.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.oi=new bs(a=>Ob(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=FS(this,i)}static ri(e,i){return new oc(e,i)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Y.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yu(e.data.value)),i}ar(e,i,a){return Y.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Y.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new kd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eA()?8:Ib(WT())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new r1;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,o){return a.documentReadCount<this.es?(ya()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",_a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(ya()<=Lt.DEBUG&&st("QueryEngine","Query:",_a(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(ya()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",_a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(i))):Y.resolve())}rs(e,i){if(l_(i))return Y.resolve(null);let a=li(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),a=li(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,cd(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,o){return l_(i)||o.isEqual(Tt.min())?Y.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?Y.resolve(null):(ya()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_a(i)),this.hs(e,d,i,wb(o,no)).next(g=>g))})}cs(e,i){let a=new we(Lv(e));return i.forEach((o,h)=>{Ec(e,h)&&(a=a.add(h))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,a){return ya()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",_a(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="LocalStore",a1=3e8;class l1{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ie(wt),this.Is=new bs(h=>Nd(h),xd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function o1(s,e,i,a){return new l1(s,e,i,a)}async function s0(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function u1(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const S=v.batch,N=S.keys();let j=Y.resolve();return N.forEach(X=>{j=j.next(()=>A.getEntry(_,X)).next(et=>{const Z=v.docVersions.get(X);qt(Z!==null),et.version.compareTo(Z)<0&&(S.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,S))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function a0(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function c1(s,e){const i=At(s),a=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((A,S)=>{const N=o.get(S);if(!N)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,S)));let j=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),o=o.insert(S,j),function(et,Z,gt){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=a1?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0}(N,j,A)&&g.push(i.Hr.updateTargetData(h,j))});let _=ji(),v=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(h1(h,d,e.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!a.isEqual(Tt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(S=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=o,h))}function h1(s,e,i){let a=It(),o=It();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=ji();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(Pd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:o}})}function f1(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=wd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function d1(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,e).next(h=>h?(o=h,Y.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new vr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function gd(s,e,i){const a=At(s),o=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Va(d))throw d;st(Pd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function E_(s,e,i){const a=At(s);let o=Tt.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const S=At(_),N=S.Is.get(A);return N!==void 0?Y.resolve(S.Ts.get(N)):S.Hr.getTargetData(v,A)}(a,d,li(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:It())).next(g=>(m1(a,Wb(e),g),{documents:g,gs:h})))}function m1(s,e,i){let a=s.Es.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class T_{constructor(){this.activeTargetIds=sS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g1{constructor(){this.ho=new T_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new T_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class b_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(A_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){st(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function pd(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",y1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===nc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,h){const d=pd(),g=this.bo(e,i.toUriEncodedString());st(Yf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,g,_,a).then(v=>(st(Yf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ba(Yf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,o,h,d){return this.So(e,i,a,o,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const a=y1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class E1 extends _1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const h=pd();return new Promise((d,g)=>{const _=new hv;_.setWithCredentials(!0),_.listenOnce(fv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Fu.NO_ERROR:const A=_.getResponseJson();st(Ye,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Fu.TIMEOUT:st(Ye,`RPC '${e}' ${h} timed out`),g(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const S=_.getStatus();if(st(Ye,`RPC '${e}' ${h} failed with status:`,S,"response text:",_.getResponseText()),S>0){let N=_.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N==null?void 0:N.error;if(j&&j.status&&j.message){const X=function(Z){const gt=Z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(gt)>=0?gt:J.UNKNOWN}(j.status);g(new ut(X,j.message))}else g(new ut(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{st(Ye,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);st(Ye,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const o=pd(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gv(),g=mv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,_);const S=d.createWebChannel(A,_);let N=!1,j=!1;const X=new v1({Fo:Z=>{j?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(N||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,Z),S.send(Z))},Mo:()=>S.close()}),et=(Z,gt,pt)=>{Z.listen(gt,lt=>{try{pt(lt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return et(S,Ql.EventType.OPEN,()=>{j||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),X.Qo())}),et(S,Ql.EventType.CLOSE,()=>{j||(j=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),X.Uo())}),et(S,Ql.EventType.ERROR,Z=>{j||(j=!0,ba(Ye,`RPC '${e}' stream ${o} transport errored:`,Z),X.Uo(new ut(J.UNAVAILABLE,"The operation could not be completed")))}),et(S,Ql.EventType.MESSAGE,Z=>{var gt;if(!j){const pt=Z.data[0];qt(!!pt);const lt=pt,vt=(lt==null?void 0:lt.error)||((gt=lt[0])===null||gt===void 0?void 0:gt.error);if(vt){st(Ye,`RPC '${e}' stream ${o} received error:`,vt);const rt=vt.status;let bt=function(D){const I=_e[D];if(I!==void 0)return Yv(I)}(rt),V=vt.message;bt===void 0&&(bt=J.INTERNAL,V="Unknown error status: "+rt+" with message "+vt.message),j=!0,X.Uo(new ut(bt,V)),S.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,pt),X.Ko(pt)}}),et(g,dv.STAT_EVENT,Z=>{Z.stat===rd.PROXY?st(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===rd.NOPROXY&&st(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(s){return new SS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="PersistentStream";class o0{constructor(e,i,a,o,h,d,g,_){this.Ti=e,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new l0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return st(S_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(st(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T1 extends o0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=DS(this.serializer,e),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?oi(d.readTime):Tt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=md(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=ud(_)?{documents:xS(h,_)}:{query:IS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Zv(h,d.resumeToken);const v=hd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=lc(h,d.snapshotVersion.toTimestamp());const v=hd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=OS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.I_(i)}}class A1 extends o0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=NS(e.writeResults,e.commitTime),a=oi(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=md(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>CS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{}class S1 extends b1{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,fd(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(J.UNKNOWN,h.toString())})}Co(e,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,fd(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class R1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(i),this.N_=!1):st("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class w1{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{Ss(this)&&(st(Es,"Restarting streams for network reachability change."),await async function(_){const v=At(_);v.W_.add(4),await ho(v),v.j_.set("Unknown"),v.W_.delete(4),await Rc(v)}(this))})}),this.j_=new R1(a,o)}}async function Rc(s){if(Ss(s))for(const e of s.G_)await e(!0)}async function ho(s){for(const e of s.G_)await e(!1)}function u0(s,e){const i=At(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Hd(i)?qd(i):Oa(i).c_()&&jd(i,e))}function Bd(s,e){const i=At(s),a=Oa(i);i.K_.delete(e),a.c_()&&c0(i,e),i.K_.size===0&&(a.c_()?a.P_():Ss(i)&&i.j_.set("Unknown"))}function jd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Oa(s).y_(e)}function c0(s,e){s.H_.Ne(e),Oa(s).w_(e)}function qd(s){s.H_=new ES({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Oa(s).start(),s.j_.B_()}function Hd(s){return Ss(s)&&!Oa(s).u_()&&s.K_.size>0}function Ss(s){return At(s).W_.size===0}function h0(s){s.H_=void 0}async function D1(s){s.j_.set("Online")}async function C1(s){s.K_.forEach((e,i)=>{jd(s,e)})}async function N1(s,e){h0(s),Hd(s)?(s.j_.q_(e),qd(s)):s.j_.set("Unknown")}async function x1(s,e,i){if(s.j_.set("Online"),e instanceof Xv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(s,e)}catch(a){st(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uc(s,a)}else if(e instanceof Zu?s.H_.We(e):e instanceof Kv?s.H_.Ze(e):s.H_.je(e),!i.isEqual(Tt.min()))try{const a=await a0(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),c0(h,_);const S=new vr(A.target,_,v,A.sequenceNumber);jd(h,S)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){st(Es,"Failed to raise snapshot:",a),await uc(s,a)}}async function uc(s,e,i){if(!Va(e))throw e;s.W_.add(1),await ho(s),s.j_.set("Offline"),i||(i=()=>a0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{st(Es,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await Rc(s)})}function f0(s,e){return e().catch(i=>uc(s,i,e))}async function wc(s){const e=At(s),i=Nr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:wd;for(;I1(e);)try{const o=await f1(e.localStore,a);if(o===null){e.U_.length===0&&i.P_();break}a=o.batchId,V1(e,o)}catch(o){await uc(e,o)}d0(e)&&m0(e)}function I1(s){return Ss(s)&&s.U_.length<10}function V1(s,e){s.U_.push(e);const i=Nr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function d0(s){return Ss(s)&&!Nr(s).u_()&&s.U_.length>0}function m0(s){Nr(s).start()}async function O1(s){Nr(s).C_()}async function M1(s){const e=Nr(s);for(const i of s.U_)e.b_(i.mutations)}async function U1(s,e,i){const a=s.U_.shift(),o=Od.from(a,e,i);await f0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await wc(s)}async function L1(s,e){e&&Nr(s).S_&&await async function(a,o){if(function(d){return _S(d)&&d!==J.ABORTED}(o.code)){const h=a.U_.shift();Nr(a).h_(),await f0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await wc(a)}}(s,e),d0(s)&&m0(s)}async function R_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),st(Es,"RemoteStore received new credentials");const a=Ss(i);i.W_.add(3),await ho(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Rc(i)}async function z1(s,e){const i=At(s);e?(i.W_.delete(2),await Rc(i)):e||(i.W_.add(2),await ho(i),i.j_.set("Unknown"))}function Oa(s){return s.J_||(s.J_=function(i,a,o){const h=At(i);return h.M_(),new T1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:D1.bind(null,s),No:C1.bind(null,s),Lo:N1.bind(null,s),p_:x1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Hd(s)?qd(s):s.j_.set("Unknown")):(await s.J_.stop(),h0(s))})),s.J_}function Nr(s){return s.Y_||(s.Y_=function(i,a,o){const h=At(i);return h.M_(),new A1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:O1.bind(null,s),Lo:L1.bind(null,s),D_:M1.bind(null,s),v_:U1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await wc(s)):(await s.Y_.stop(),s.U_.length>0&&(st(Es,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Gd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(s,e){if(Bi("AsyncQueue",`${e}: ${s}`),Va(s))return new ut(J.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Fl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ta;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.Z_=new ie(ft.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class Ca{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ca(e,i,Ta.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class P1{constructor(){this.queries=D_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=At(i),h=o.queries;o.queries=D_(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function D_(){return new bs(s=>Uv(s),vc)}async function Fd(s,e){const i=At(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(a=2):(h=new k1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Qd(d,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Kd(i)}async function Yd(s,e){const i=At(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function B1(s,e){const i=At(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(a=!0);d.ea=o}}a&&Kd(i)}function j1(s,e,i){const a=At(s),o=a.queries.get(e);if(o)for(const h of o.ta)h.onError(i);a.queries.delete(e)}function Kd(s){s.ia.forEach(e=>{e.next()})}var yd,C_;(C_=yd||(yd={}))._a="default",C_.Cache="cache";class Xd{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ca(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.key=e}}class p0{constructor(e){this.key=e}}class q1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=Lv(e),this.wa=new Ta(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new w_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,S)=>{const N=o.get(A),j=Ec(this.query,S)?S:null,X=!!N&&this.mutatedKeys.has(N.key),et=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;N&&j?N.data.isEqual(j.data)?X!==et&&(a.track({type:3,doc:j}),Z=!0):this.va(N,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!N&&j?(a.track({type:0,doc:j}),Z=!0):N&&!j&&(a.track({type:1,doc:N}),Z=!0,(_||v)&&(g=!0)),Z&&(j?(d=d.add(j),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,S)=>function(j,X){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return et(j)-et(X)}(A.type,S.type)||this.ya(A.doc,S.doc)),this.Ca(a),o=o!=null&&o;const g=i&&!o?this.Fa():[],_=this.pa.size===0&&this.current&&!o?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Ca(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new w_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new p0(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new g0(a))}),i}Oa(e){this.fa=e.gs,this.pa=It();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ca.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zd="SyncEngine";class H1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class G1{constructor(e){this.key=e,this.Ba=!1}}class Q1{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new bs(g=>Uv(g),vc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ft.comparator),this.Ua=new Map,this.Ka=new Ld,this.Wa={},this.Ga=new Map,this.za=Da.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function F1(s,e,i=!0){const a=A0(s);let o;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await y0(a,e,i,!0),o}async function Y1(s,e){const i=A0(s);await y0(i,e,!0,!1)}async function y0(s,e,i,a){const o=await d1(s.localStore,li(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await K1(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&u0(s.remoteStore,o),g}async function K1(s,e,i,a,o){s.Ha=(S,N,j)=>async function(et,Z,gt,pt){let lt=Z.view.ba(gt);lt.ls&&(lt=await E_(et.localStore,Z.query,!1).then(({documents:V})=>Z.view.ba(V,lt)));const vt=pt&&pt.targetChanges.get(Z.targetId),rt=pt&&pt.targetMismatches.get(Z.targetId)!=null,bt=Z.view.applyChanges(lt,et.isPrimaryClient,vt,rt);return x_(et,Z.targetId,bt.Ma),bt.snapshot}(s,S,N,j);const h=await E_(s.localStore,e,!0),d=new q1(e,h.gs),g=d.ba(h.documents),_=co.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);x_(s,i,v.Ma);const A=new H1(e,i,d);return s.ka.set(e,A),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function X1(s,e,i){const a=At(s),o=a.ka.get(e),h=a.qa.get(o.targetId);if(h.length>1)return a.qa.set(o.targetId,h.filter(d=>!vc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Bd(a.remoteStore,o.targetId),_d(a,o.targetId)}).catch(Ia)):(_d(a,o.targetId),await gd(a.localStore,o.targetId,!0))}async function Z1(s,e){const i=At(s),a=i.ka.get(e),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Bd(i.remoteStore,a.targetId))}async function $1(s,e,i){const a=rR(s);try{const o=await function(d,g){const _=At(d),v=Re.now(),A=g.reduce((j,X)=>j.add(X.key),It());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=ji(),et=It();return _.ds.getEntries(j,A).next(Z=>{X=Z,X.forEach((gt,pt)=>{pt.isValidDocument()||(et=et.add(gt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,X)).next(Z=>{S=Z;const gt=[];for(const pt of g){const lt=dS(pt,S.get(pt.key).overlayedDocument);lt!=null&&gt.push(new Vr(pt.key,lt,Cv(lt.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,gt,g)}).next(Z=>{N=Z;const gt=Z.applyToLocalDocumentSet(S,et);return _.documentOverlayCache.saveOverlays(j,Z.batchId,gt)})}).then(()=>({batchId:N.batchId,changes:kv(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ie(wt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,o.batchId,i),await fo(a,o.changes),await wc(a.remoteStore)}catch(o){const h=Qd(o,"Failed to persist write");i.reject(h)}}async function _0(s,e){const i=At(s);try{const a=await c1(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?qt(d.Ba):o.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await fo(i,a,e)}catch(a){await Ia(a)}}function N_(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=At(d);_.onlineState=g;let v=!1;_.queries.forEach((A,S)=>{for(const N of S.ta)N.sa(g)&&(v=!0)}),v&&Kd(_)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function J1(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Ua.get(e),h=o&&o.key;if(h){let d=new ie(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,Tt.min()));const g=It().add(h),_=new bc(Tt.min(),new Map,new ie(wt),d,g);await _0(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),$d(a)}else await gd(a.localStore,e,!1).then(()=>_d(a,e,i)).catch(Ia)}async function W1(s,e){const i=At(s),a=e.batch.batchId;try{const o=await u1(i.localStore,e);E0(i,a,null),v0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await fo(i,o)}catch(o){await Ia(o)}}async function tR(s,e,i){const a=At(s);try{const o=await function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(S=>(qt(S!==null),A=S.keys(),_.mutationQueue.removeMutationBatch(v,S))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);E0(a,e,i),v0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await fo(a,o)}catch(o){await Ia(o)}}function v0(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function E0(s,e,i){const a=At(s);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function _d(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||T0(s,a)})}function T0(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(Bd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),$d(s))}function x_(s,e,i){for(const a of i)a instanceof g0?(s.Ka.addReference(a.key,e),eR(s,a)):a instanceof p0?(st(Zd,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||T0(s,a.key)):_t()}function eR(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(st(Zd,"New document in limbo: "+i),s.Qa.add(a),$d(s))}function $d(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ft(ee.fromString(e)),a=s.za.next();s.Ua.set(a,new G1(i)),s.$a=s.$a.insert(i,a),u0(s.remoteStore,new vr(li(_c(i.path)),a,"TargetPurposeLimboResolution",mc.ae))}}async function fo(s,e,i){const a=At(s),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=kd.Yi(_.targetId,v);h.push(S)}}))}),await Promise.all(d),a.La.p_(o),await async function(_,v){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Y.forEach(v,N=>Y.forEach(N.Hi,j=>A.persistence.referenceDelegate.addReference(S,N.targetId,j)).next(()=>Y.forEach(N.Ji,j=>A.persistence.referenceDelegate.removeReference(S,N.targetId,j)))))}catch(S){if(!Va(S))throw S;st(Pd,"Failed to update sequence numbers: "+S)}for(const S of v){const N=S.targetId;if(!S.fromCache){const j=A.Ts.get(N),X=j.snapshotVersion,et=j.withLastLimboFreeSnapshotVersion(X);A.Ts=A.Ts.insert(N,et)}}}(a.localStore,h))}async function nR(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){st(Zd,"User change. New user:",e.toKey());const a=await s0(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ut(J.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await fo(i,a.Rs)}}function iR(s,e){const i=At(s),a=i.Ua.get(e);if(a&&a.Ba)return It().add(a.key);{let o=It();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function A0(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J1.bind(null,e),e.La.p_=B1.bind(null,e.eventManager),e.La.Ja=j1.bind(null,e.eventManager),e}function rR(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return o1(this.persistence,new s1,e.initialUser,this.serializer)}Xa(e){return new r0(zd.ri,this.serializer)}Za(e){return new g1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class sR extends cc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof oc);const a=this.persistence.referenceDelegate.garbageCollector;return new GS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new r0(a=>oc.ri(a,i),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>N_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nR.bind(null,this.syncEngine),await z1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P1}()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),a=function(h){return new E1(h)}(e.databaseInfo);return function(h,d,g,_){return new S1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new w1(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>N_(this.syncEngine,i,0),function(){return b_.D()?new b_:new p1}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const S=new Q1(o,h,d,g,_,v);return A&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);st(Es,"RemoteStore shutting down."),h.W_.add(5),await ho(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class aR{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=_v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{st(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(st(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Qd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Xf(s,e){s.asyncQueue.verifyOperationInProgress(),st(xr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await s0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function I_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await lR(s);st(xr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>R_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>R_(e.remoteStore,o)),s._onlineComponents=e}async function lR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(xr,"Using user provided OfflineComponentProvider");try{await Xf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ba("Error using user provided cache. Falling back to memory cache: "+i),await Xf(s,new cc)}}else st(xr,"Using default OfflineComponentProvider"),await Xf(s,new sR(void 0));return s._offlineComponents}async function b0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(xr,"Using user provided OnlineComponentProvider"),await I_(s,s._uninitializedComponentsProvider._online)):(st(xr,"Using default OnlineComponentProvider"),await I_(s,new vd))),s._onlineComponents}function oR(s){return b0(s).then(e=>e.syncEngine)}async function hc(s){const e=await b0(s),i=e.eventManager;return i.onListen=F1.bind(null,e.syncEngine),i.onUnlisten=X1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Y1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Z1.bind(null,e.syncEngine),i}function uR(s,e,i={}){const a=new zi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Jd({next:N=>{A.su(),d.enqueueAndForget(()=>Yd(h,S));const j=N.docs.has(g);!j&&N.fromCache?v.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&N.fromCache&&_&&_.source==="server"?v.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new Xd(_c(g.path),A,{includeMetadataChanges:!0,Ta:!0});return Fd(h,S)}(await hc(s),s.asyncQueue,e,i,a)),a.promise}function cR(s,e,i={}){const a=new zi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Jd({next:N=>{A.su(),d.enqueueAndForget(()=>Yd(h,S)),N.fromCache&&_.source==="server"?v.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new Xd(g,A,{includeMetadataChanges:!0,Ta:!0});return Fd(h,S)}(await hc(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(s,e,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hR(s,e,i,a){if(e===!0&&a===!0)throw new ut(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function O_(s){if(!ft.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function M_(s){if(ft.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_t()}function on(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wd(s);throw new ut(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="firestore.googleapis.com",U_=!0;class L_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w0,this.ssl=U_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:U_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qS)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new yb;switch(a.type){case"firstParty":return new Tb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=V_.get(i);a&&(st("ComponentProvider","Removing Datastore"),V_.delete(i),a.terminate())}(this),Promise.resolve()}}function fR(s,e,i,a={}){var o;const h=(s=on(s,Dc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==w0&&h.host!==g&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!Wu(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Ke.MOCK_USER;else{v=J_(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(S)}s._authCredentials=new _b(new pv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Sr extends mo{constructor(e,i,a){super(e,i,_c(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ft(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Cc(s,e,...i){if(s=En(s),R0("collection","path",e),s instanceof Dc){const a=ee.fromString(e,...i);return M_(a),new Sr(s,null,a)}{if(!(s instanceof en||s instanceof Sr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(e,...i));return M_(a),new Sr(s.firestore,null,a)}}function ki(s,e,...i){if(s=En(s),arguments.length===1&&(e=_v.newId()),R0("doc","path",e),s instanceof Dc){const a=ee.fromString(e,...i);return O_(a),new en(s,null,new ft(a))}{if(!(s instanceof en||s instanceof Sr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(e,...i));return O_(a),new en(s.firestore,s instanceof Sr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class k_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new l0(this,"async_queue_retry"),this.Su=()=>{const a=Kf();a&&st(z_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new zi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Va(e))throw e;st(z_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Bi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Gd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function P_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(s,["next","error","complete"])}class qi extends Dc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new k_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k_(e),this._firestoreClient=void 0,await e}}}function dR(s,e){const i=typeof s=="object"?s:lv(),a=typeof s=="string"?s:nc,o=iv(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=Z_("firestore");h&&fR(o,...h)}return o}function Nc(s){if(s._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mR(s),s._firestoreClient}function mR(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,A){return new Lb(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,S0(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new aR(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(He.fromBase64String(e))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Na(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^__.*__$/;class pR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new uo(e,this.data,i,this.fieldTransforms)}}class D0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function C0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class nm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(C0(this.Lu)&&gR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class yR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sc(e)}ju(e,i,a,o=!1){return new nm({Lu:e,methodName:i,zu:a,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(s){const e=s._freezeSettings(),i=Sc(s._databaseId);return new yR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function N0(s,e,i,a,o,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,o);sm("Data must be an object, but it was:",d,a);const g=x0(a,d);let _,v;if(h.merge)_=new _n(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const N=Ed(e,S,i);if(!d.contains(N))throw new ut(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);V0(A,N)||A.push(N)}_=new _n(A),v=d.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,v=d.fieldTransforms;return new pR(new ln(g),_,v)}class Vc extends Ic{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}class rm extends Ic{_toFieldTransform(e){return new uS(e.path,new ao)}isEqual(e){return e instanceof rm}}function _R(s,e,i,a){const o=s.ju(1,e,i);sm("Data must be an object, but it was:",o,a);const h=[],d=ln.empty();Ir(a,(_,v)=>{const A=am(e,_,i);v=En(v);const S=o.Uu(A);if(v instanceof Vc)h.push(A);else{const N=Oc(v,S);N!=null&&(h.push(A),d.set(A,N))}});const g=new _n(h);return new D0(d,g,o.fieldTransforms)}function vR(s,e,i,a,o,h){const d=s.ju(1,e,i),g=[Ed(e,a,i)],_=[o];if(h.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(Ed(e,h[N])),_.push(h[N+1]);const v=[],A=ln.empty();for(let N=g.length-1;N>=0;--N)if(!V0(v,g[N])){const j=g[N];let X=_[N];X=En(X);const et=d.Uu(j);if(X instanceof Vc)v.push(j);else{const Z=Oc(X,et);Z!=null&&(v.push(j),A.set(j,Z))}}const S=new _n(v);return new D0(A,S,d.fieldTransforms)}function Oc(s,e){if(I0(s=En(s)))return sm("Unsupported field value:",e,s),x0(s,e);if(s instanceof Ic)return function(a,o){if(!C0(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Oc(g,o.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Re.fromDate(a);return{timestampValue:lc(o.serializer,h)}}if(a instanceof Re){const h=new Re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(a instanceof tm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Na)return{bytesValue:Zv(o.serializer,a._byteString)};if(a instanceof en){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ud(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof em)return function(d,g){return{mapValue:{fields:{[wv]:{stringValue:Dv},[ic]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return Id(g.serializer,v)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Wd(a)}`)}(s,e)}function x0(s,e){const i={};return Ev(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(s,(a,o)=>{const h=Oc(o,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function I0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Re||s instanceof tm||s instanceof Na||s instanceof en||s instanceof Ic||s instanceof em)}function sm(s,e,i){if(!I0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Wd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Ed(s,e,i){if((e=En(e))instanceof xc)return e._internalPath;if(typeof e=="string")return am(s,e);throw fc("Field path arguments must be of type string or ",s,!1,void 0,i)}const ER=new RegExp("[~\\*/\\[\\]]");function am(s,e,i){if(e.search(ER)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new xc(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ut(J.INVALID_ARGUMENT,g+s+_)}function V0(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(M0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TR extends O0{data(){return super.data()}}function M0(s,e){return typeof e=="string"?am(s,e):e instanceof xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AR{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[ic].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new em(h)}convertGeoPoint(e){return new tm(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=pc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ee.fromString(e);qt(n0(a));const o=new ro(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return o.isEqual(i)||Bi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class z0 extends O0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(M0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class $u extends z0{data(e={}){return super.data(e)}}class k0{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new $u(this._firestore,this._userDataWriter,a.key,a,new Kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new $u(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new $u(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:bR(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function bR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(s){s=on(s,en);const e=on(s.firestore,qi);return uR(Nc(e),s._key).then(i=>q0(e,s,i))}class lm extends AR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function B0(s){s=on(s,mo);const e=on(s.firestore,qi),i=Nc(e),a=new lm(e);return U0(s._query),cR(i,s._query).then(o=>new k0(e,a,s,o))}function dc(s,e,i){s=on(s,en);const a=on(s.firestore,qi),o=L0(s.converter,e,i);return Mc(a,[N0(im(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Un.none())])}function SR(s,e,i,...a){s=on(s,en);const o=on(s.firestore,qi),h=im(o);let d;return d=typeof(e=En(e))=="string"||e instanceof xc?vR(h,"updateDoc",s._key,e,i,a):_R(h,"updateDoc",s._key,e),Mc(o,[d.toMutation(s._key,Un.exists(!0))])}function RR(s){return Mc(on(s.firestore,qi),[new Vd(s._key,Un.none())])}function j0(s,e){const i=on(s.firestore,qi),a=ki(s),o=L0(s.converter,e);return Mc(i,[N0(im(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then(()=>a)}function wR(s,...e){var i,a,o;s=En(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||P_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(P_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let _,v,A;if(s instanceof en)v=on(s.firestore,qi),A=_c(s._key.path),_={next:S=>{e[d]&&e[d](q0(v,s,S))},error:e[d+1],complete:e[d+2]};else{const S=on(s,mo);v=on(S.firestore,qi),A=S._query;const N=new lm(v);_={next:j=>{e[d]&&e[d](new k0(v,N,S,j))},error:e[d+1],complete:e[d+2]},U0(s._query)}return function(N,j,X,et){const Z=new Jd(et),gt=new Xd(j,Z,X);return N.asyncQueue.enqueueAndForget(async()=>Fd(await hc(N),gt)),()=>{Z.su(),N.asyncQueue.enqueueAndForget(async()=>Yd(await hc(N),gt))}}(Nc(v),A,g,_)}function Mc(s,e){return function(a,o){const h=new zi;return a.asyncQueue.enqueueAndForget(async()=>$1(await oR(a),o,h)),h.promise}(Nc(s),e)}function q0(s,e,i){const a=i.docs.get(e._key),o=new lm(s);return new z0(s,o,e._key,a,new Kl(i.hasPendingWrites,i.fromCache),e.converter)}function B_(){return new rm("serverTimestamp")}(function(e,i=!0){(function(o){xa=o})(sv),to(new Aa("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new qi(new vb(a.getProvider("auth-internal")),new Ab(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Ar(Gy,Qy,e),Ar(Gy,Qy,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebasestorage.googleapis.com",G0="storageBucket",DR=2*60*1e3,CR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue extends As{constructor(e,i,a=0){super(Zf(e),`Firebase Storage: ${i} (${Zf(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ue.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oe;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oe||(oe={}));function Zf(s){return"storage/"+s}function om(){const s="An unknown error occurred, please check the error payload for server response.";return new ue(oe.UNKNOWN,s)}function NR(s){return new ue(oe.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function xR(s){return new ue(oe.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IR(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ue(oe.UNAUTHENTICATED,s)}function VR(){return new ue(oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OR(s){return new ue(oe.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function MR(){return new ue(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UR(){return new ue(oe.CANCELED,"User canceled the upload/download.")}function LR(s){return new ue(oe.INVALID_URL,"Invalid URL '"+s+"'.")}function zR(s){return new ue(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function kR(){return new ue(oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G0+"' property when initializing the app?")}function PR(){return new ue(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BR(){return new ue(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jR(s){return new ue(oe.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Td(s){return new ue(oe.INVALID_ARGUMENT,s)}function Q0(){return new ue(oe.APP_DELETED,"The Firebase app was deleted.")}function qR(s){return new ue(oe.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(s,e){return new ue(oe.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Gl(s){throw new ue(oe.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=vn.makeFromUrl(e,i)}catch{return new vn(e,"")}if(a.path==="")return a;throw zR(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(vt){vt.path.charAt(vt.path.length-1)==="/"&&(vt.path_=vt.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function v(vt){vt.path_=decodeURIComponent(vt.path)}const A="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",j=new RegExp(`^https?://${S}/${A}/b/${o}/o${N}`,"i"),X={bucket:1,path:3},et=i===H0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Z="([^?#]*)",gt=new RegExp(`^https?://${et}/${o}/${Z}`,"i"),lt=[{regex:g,indices:_,postModify:h},{regex:j,indices:X,postModify:v},{regex:gt,indices:{bucket:1,path:2},postModify:v}];for(let vt=0;vt<lt.length;vt++){const rt=lt[vt],bt=rt.regex.exec(e);if(bt){const V=bt[rt.indices.bucket];let b=bt[rt.indices.path];b||(b=""),a=new vn(V,b),rt.postModify(a);break}}if(a==null)throw LR(e);return a}}class HR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(s,e,i){let a=1,o=null,h=null,d=!1,g=0;function _(){return g===2}let v=!1;function A(...Z){v||(v=!0,e.apply(null,Z))}function S(Z){o=setTimeout(()=>{o=null,s(j,_())},Z)}function N(){h&&clearTimeout(h)}function j(Z,...gt){if(v){N();return}if(Z){N(),A.call(null,Z,...gt);return}if(_()||d){N(),A.call(null,Z,...gt);return}a<64&&(a*=2);let lt;g===1?(g=2,lt=0):lt=(a+Math.random())*1e3,S(lt)}let X=!1;function et(Z){X||(X=!0,N(),!v&&(o!==null?(Z||(g=2),clearTimeout(o),S(0)):Z||(g=1)))}return S(0),h=setTimeout(()=>{d=!0,et(!0)},i),et}function QR(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(s){return s!==void 0}function YR(s){return typeof s=="object"&&!Array.isArray(s)}function um(s){return typeof s=="string"||s instanceof String}function j_(s){return cm()&&s instanceof Blob}function cm(){return typeof Blob<"u"}function q_(s,e,i,a){if(a<e)throw Td(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>i)throw Td(`Invalid value for '${s}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(s,e,i){let a=e;return i==null&&(a=`https://${e}`),`${i}://${a}/v0${s}`}function F0(s){const e=encodeURIComponent;let i="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var _s;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(_s||(_s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(s,e){const i=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,h=e.indexOf(s)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i,a,o,h,d,g,_,v,A,S,N=!0){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=S,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,X)=>{this.resolve_=j,this.reject_=X,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Gu(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=g=>{const _=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const g=h.getErrorCode()===_s.NO_ERROR,_=h.getStatus();if(!g||KR(_,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===_s.ABORT;a(!1,new Gu(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;a(!0,new Gu(v,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());FR(_)?h(_):h()}catch(_){d(_)}else if(g!==null){const _=om();_.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,_)):d(_)}else if(o.canceled){const _=this.appDelete_?Q0():UR();d(_)}else{const _=MR();d(_)}};this.canceled_?i(!1,new Gu(!1,null,!0)):this.backoffId_=GR(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gu{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function ZR(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function $R(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JR(s,e){e&&(s["X-Firebase-GMPID"]=e)}function WR(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function tw(s,e,i,a,o,h,d=!0){const g=F0(s.urlParams),_=s.url+g,v=Object.assign({},s.headers);return JR(v,e),ZR(v,i),$R(v,h),WR(v,a),new XR(_,s.method,v,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nw(...s){const e=ew();if(e!==void 0){const i=new e;for(let a=0;a<s.length;a++)i.append(s[a]);return i.getBlob()}else{if(cm())return new Blob(s);throw new ue(oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iw(s,e,i){return s.webkitSlice?s.webkitSlice(e,i):s.mozSlice?s.mozSlice(e,i):s.slice?s.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){if(typeof atob>"u")throw jR("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $f{constructor(e,i){this.data=e,this.contentType=i||null}}function sw(s,e){switch(s){case ai.RAW:return new $f(Y0(e));case ai.BASE64:case ai.BASE64URL:return new $f(K0(s,e));case ai.DATA_URL:return new $f(lw(e),ow(e))}throw om()}function Y0(s){const e=[];for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const h=a,d=s.charCodeAt(++i);a=65536|(h&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function aw(s){let e;try{e=decodeURIComponent(s)}catch{throw Wl(ai.DATA_URL,"Malformed data URL.")}return Y0(e)}function K0(s,e){switch(s){case ai.BASE64:{const o=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(o||h)throw Wl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ai.BASE64URL:{const o=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(o||h)throw Wl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=rw(e)}catch(o){throw o.message.includes("polyfill")?o:Wl(s,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class X0{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw Wl(ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=uw(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function lw(s){const e=new X0(s);return e.base64?K0(ai.BASE64,e.rest):aw(e.rest)}function ow(s){return new X0(s).contentType}function uw(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i){let a=0,o="";j_(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(j_(this.data_)){const a=this.data_,o=iw(a,e,i);return o===null?null:new _r(o)}else{const a=new Uint8Array(this.data_.buffer,e,i-e);return new _r(a,!0)}}static getBlob(...e){if(cm()){const i=e.map(a=>a instanceof _r?a.data_:a);return new _r(nw.apply(null,i))}else{const i=e.map(d=>um(d)?sw(ai.RAW,d).data:d.data_);let a=0;i.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let h=0;return i.forEach(d=>{for(let g=0;g<d.length;g++)o[h++]=d[g]}),new _r(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(s){let e;try{e=JSON.parse(s)}catch{return null}return YR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function hw(s,e){const i=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?i:s+"/"+i}function $0(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(s,e){return e}class tn{constructor(e,i,a,o){this.server=e,this.local=i||e,this.writable=!!a,this.xform=o||fw}}let Qu=null;function dw(s){return!um(s)||s.length<2?s:$0(s)}function J0(){if(Qu)return Qu;const s=[];s.push(new tn("bucket")),s.push(new tn("generation")),s.push(new tn("metageneration")),s.push(new tn("name","fullPath",!0));function e(h,d){return dw(d)}const i=new tn("name");i.xform=e,s.push(i);function a(h,d){return d!==void 0?Number(d):d}const o=new tn("size");return o.xform=a,s.push(o),s.push(new tn("timeCreated")),s.push(new tn("updated")),s.push(new tn("md5Hash",null,!0)),s.push(new tn("cacheControl",null,!0)),s.push(new tn("contentDisposition",null,!0)),s.push(new tn("contentEncoding",null,!0)),s.push(new tn("contentLanguage",null,!0)),s.push(new tn("contentType",null,!0)),s.push(new tn("metadata","customMetadata",!0)),Qu=s,Qu}function mw(s,e){function i(){const a=s.bucket,o=s.fullPath,h=new vn(a,o);return e._makeStorageReference(h)}Object.defineProperty(s,"ref",{get:i})}function gw(s,e,i){const a={};a.type="file";const o=i.length;for(let h=0;h<o;h++){const d=i[h];a[d.local]=d.xform(a,e[d.server])}return mw(a,s),a}function W0(s,e,i){const a=Z0(e);return a===null?null:gw(s,a,i)}function pw(s,e,i,a){const o=Z0(e);if(o===null||!um(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(v=>{const A=s.bucket,S=s.fullPath,N="/b/"+d(A)+"/o/"+d(S),j=hm(N,i,a),X=F0({alt:"media",token:v});return j+X})[0]}function yw(s,e){const i={},a=e.length;for(let o=0;o<a;o++){const h=e[o];h.writable&&(i[h.server]=s[h.local])}return JSON.stringify(i)}class tE{constructor(e,i,a,o){this.url=e,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(s){if(!s)throw om()}function _w(s,e){function i(a,o){const h=W0(s,o,e);return eE(h!==null),h}return i}function vw(s,e){function i(a,o){const h=W0(s,o,e);return eE(h!==null),pw(h,o,s.host,s._protocol)}return i}function nE(s){function e(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=VR():o=IR():i.getStatus()===402?o=xR(s.bucket):i.getStatus()===403?o=OR(s.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return e}function Ew(s){const e=nE(s);function i(a,o){let h=e(a,o);return a.getStatus()===404&&(h=NR(s.path)),h.serverResponse=o.serverResponse,h}return i}function Tw(s,e,i){const a=e.fullServerUrl(),o=hm(a,s.host,s._protocol),h="GET",d=s.maxOperationRetryTime,g=new tE(o,h,vw(s,i),d);return g.errorHandler=Ew(e),g}function Aw(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function bw(s,e,i){const a=Object.assign({},i);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=Aw(null,e)),a}function Sw(s,e,i,a,o){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let lt="";for(let vt=0;vt<2;vt++)lt=lt+Math.random().toString().slice(2);return lt}const _=g();d["Content-Type"]="multipart/related; boundary="+_;const v=bw(e,a,o),A=yw(v,i),S="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+_+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+_+"--",j=_r.getBlob(S,a,N);if(j===null)throw PR();const X={name:v.fullPath},et=hm(h,s.host,s._protocol),Z="POST",gt=s.maxUploadRetryTime,pt=new tE(et,Z,_w(s,i),gt);return pt.urlParams=X,pt.headers=d,pt.body=j.uploadData(),pt.errorHandler=nE(e),pt}class Rw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,a,o){if(this.sent_)throw Gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),o!==void 0)for(const h in o)o.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,o[h].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ww extends Rw{initXhr(){this.xhr_.responseType="text"}}function iE(){return new ww}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i){this._service=e,i instanceof vn?this._location=i:this._location=vn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Ts(e,i)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $0(this._location.path)}get storage(){return this._service}get parent(){const e=cw(this._location.path);if(e===null)return null;const i=new vn(this._location.bucket,e);return new Ts(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw qR(e)}}function Dw(s,e,i){s._throwIfRoot("uploadBytes");const a=Sw(s.storage,s._location,J0(),new _r(e,!0),i);return s.storage.makeRequestWithTokens(a,iE).then(o=>({metadata:o,ref:s}))}function Cw(s){s._throwIfRoot("getDownloadURL");const e=Tw(s.storage,s._location,J0());return s.storage.makeRequestWithTokens(e,iE).then(i=>{if(i===null)throw BR();return i})}function Nw(s,e){const i=hw(s._location.path,e),a=new vn(s._location.bucket,i);return new Ts(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(s){return/^[A-Za-z]+:\/\//.test(s)}function Iw(s,e){return new Ts(s,e)}function rE(s,e){if(s instanceof fm){const i=s;if(i._bucket==null)throw kR();const a=new Ts(i,i._bucket);return e!=null?rE(a,e):a}else return e!==void 0?Nw(s,e):s}function Vw(s,e){if(e&&xw(e)){if(s instanceof fm)return Iw(s,e);throw Td("To use ref(service, url), the first argument must be a Storage instance.")}else return rE(s,e)}function H_(s,e){const i=e==null?void 0:e[G0];return i==null?null:vn.makeFromBucketSpec(i,s)}function Ow(s,e,i,a={}){s.host=`${e}:${i}`,s._protocol="http";const{mockUserToken:o}=a;o&&(s._overrideAuthToken=typeof o=="string"?o:J_(o,s.app.options.projectId))}class fm{constructor(e,i,a,o,h){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._bucket=null,this._host=H0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DR,this._maxUploadRetryTime=CR,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(rv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ts(this,e)}_makeRequest(e,i,a,o,h=!0){if(this._deleted)return new HR(Q0());{const d=tw(e,this._appId,a,o,i,this._firebaseVersion,h);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const G_="@firebase/storage",Q_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="storage";function Mw(s,e,i){return s=En(s),Dw(s,e,i)}function Uw(s){return s=En(s),Cw(s)}function Lw(s,e){return s=En(s),Vw(s,e)}function zw(s=lv(),e){s=En(s);const a=iv(s,sE).getImmediate({identifier:e}),o=Z_("storage");return o&&kw(a,...o),a}function kw(s,e,i,a={}){Ow(s,e,i,a)}function Pw(s,{instanceIdentifier:e}){const i=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new fm(i,a,o,e,sv)}function Bw(){to(new Aa(sE,Pw,"PUBLIC").setMultipleInstances(!0)),Ar(G_,Q_,""),Ar(G_,Q_,"esm2017")}Bw();const jw={apiKey:"AIzaSyATLls3bv7jR_hG967ih9USHOPLAME1a88",authDomain:"status-app-1-b0cfc.firebaseapp.com",databaseURL:"https://status-app-1-b0cfc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"status-app-1-b0cfc",storageBucket:"status-app-1-b0cfc.appspot.com",messagingSenderId:"649198476150",appId:"1:649198476150:web:2318dfb2b39d6c390fb857",measurementId:"G-C5MT5K2GN7"},aE=av(jw),Mn=dR(aE),qw=zw(aE),Be=[];for(let s=0;s<256;++s)Be.push((s+256).toString(16).slice(1));function Hw(s,e=0){return(Be[s[e+0]]+Be[s[e+1]]+Be[s[e+2]]+Be[s[e+3]]+"-"+Be[s[e+4]]+Be[s[e+5]]+"-"+Be[s[e+6]]+Be[s[e+7]]+"-"+Be[s[e+8]]+Be[s[e+9]]+"-"+Be[s[e+10]]+Be[s[e+11]]+Be[s[e+12]]+Be[s[e+13]]+Be[s[e+14]]+Be[s[e+15]]).toLowerCase()}let Jf;const Gw=new Uint8Array(16);function Qw(){if(!Jf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jf=crypto.getRandomValues.bind(crypto)}return Jf(Gw)}const Fw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F_={randomUUID:Fw};function Yw(s,e,i){var o;if(F_.randomUUID&&!s)return F_.randomUUID();s=s||{};const a=s.random??((o=s.rng)==null?void 0:o.call(s))??Qw();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Hw(a)}const Kw=()=>{const[s,e]=zt.useState(0),[i,a]=zt.useState(0),[o,h]=zt.useState(0),[d,g]=zt.useState(!1),[_,v]=zt.useState(null),[A,S]=zt.useState(""),[N,j]=zt.useState("A"),[X,et]=zt.useState(!1),[Z,gt]=zt.useState(!1),pt=async rt=>{rt.preventDefault();const bt=s*3600+i*60+o;try{await dc(ki(Mn,"settings","timer"),{timer:bt}),g(!0),e(0),a(0),h(0)}catch(V){console.error("Error setting timer:",V),alert("Failed to set the timer. Please try again.")}},lt=rt=>{const bt=rt.target.files[0];v(bt),S(URL.createObjectURL(bt))},vt=async()=>{if(!_)return alert("Please select an image!");et(!0),gt(!1);try{const rt=Lw(qw,`questions/${Yw()}`);await Mw(rt,_);const bt=await Uw(rt);await j0(Cc(Mn,"questions"),{imageUrl:bt,correctOption:N,marks:1,createdAt:new Date}),gt(!0),v(null),S("")}catch(rt){alert("Upload failed. Try again."),console.error(rt)}et(!1)};return K.jsxs("div",{className:"min-h-screen bg-white text-gray-900 py-12 px-6",children:[K.jsxs("div",{className:"max-w-6xl mx-auto grid gap-10 grid-cols-1 md:grid-cols-2",children:[K.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200",children:[K.jsx("h2",{className:"text-3xl font-semibold mb-6 flex items-center gap-2",children:"⏱️ Set Test Timer"}),K.jsxs("form",{onSubmit:pt,className:"space-y-5",children:[K.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[K.jsx("input",{type:"number",value:s,onChange:rt=>e(parseInt(rt.target.value)),placeholder:"Hours",className:"input-style",min:"0"}),K.jsx("input",{type:"number",value:i,onChange:rt=>a(parseInt(rt.target.value)),placeholder:"Minutes",className:"input-style",min:"0"}),K.jsx("input",{type:"number",value:o,onChange:rt=>h(parseInt(rt.target.value)),placeholder:"Seconds",className:"input-style",min:"0"})]}),K.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 transition text-white py-2.5 rounded-lg text-lg font-medium",children:"Save Timer"}),d&&K.jsx("div",{className:"text-green-600 text-center font-medium mt-2 flex justify-center items-center gap-1",children:"✅ Timer Saved Successfully!"})]})]}),K.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200",children:[K.jsx("h2",{className:"text-3xl font-semibold mb-6 flex items-center gap-2",children:"📤 Upload Question"}),K.jsx("input",{type:"file",accept:"image/*",onChange:lt,className:"input-style mb-4"}),A&&K.jsx("img",{src:A,alt:"Preview",className:"w-full h-auto rounded-xl shadow mb-4 border"}),K.jsx("div",{className:"grid grid-cols-4 gap-3 mb-5",children:["A","B","C","D"].map(rt=>K.jsxs("label",{className:`cursor-pointer px-4 py-2 border rounded-lg text-center font-medium transition ${N===rt?"bg-blue-100 border-blue-500 text-blue-800":"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200"}`,children:[K.jsx("input",{type:"radio",name:"correctOption",value:rt,checked:N===rt,onChange:()=>j(rt),className:"hidden"}),rt]},rt))}),K.jsx("button",{onClick:vt,disabled:X,className:"w-full bg-green-600 hover:bg-green-700 transition text-white py-2.5 rounded-lg text-lg font-medium",children:X?"Uploading...":"Upload Question"}),Z&&K.jsx("div",{className:"text-green-600 text-center font-medium mt-4 flex justify-center items-center gap-1",children:"✅ Question Uploaded Successfully!"})]})]}),K.jsx("style",{jsx:!0,children:`
        .input-style {
          background: #fff;
          border: 1px solid #d1d5db;
          padding: 0.6rem 1rem;
          border-radius: 0.5rem;
          width: 100%;
          font-size: 1rem;
          color: #111827;
          transition: border 0.2s, box-shadow 0.2s;
        }
        .input-style:focus {
          outline: none;
          border-color: #2563eb;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
      `})]})},Y_=()=>{const[s,e]=zt.useState([]),[i,a]=zt.useState(!0),o=async()=>{const d=(await B0(Cc(Mn,"studentResults"))).docs.map(v=>v.data()),g=new Map;d.forEach(v=>{const A=`${v.name}-${v.batchTime}-${v.phoneNumber}`;g.has(A)||g.set(A,v)});const _=Array.from(g.values());e(_),a(!1)};return zt.useEffect(()=>{o()},[]),K.jsxs("div",{className:"max-w-6xl mx-auto mt-10 p-6 bg-gradient-to-r from-blue-50 to-indigo-100 rounded-xl shadow-xl",children:[K.jsx("h2",{className:"text-3xl font-semibold mb-6 text-center text-gray-800",children:"📊 Student Results"}),i?K.jsx("p",{className:"text-center text-gray-500",children:"Loading results..."}):s.length===0?K.jsx("p",{className:"text-center text-gray-500 text-lg",children:"No results found."}):K.jsx("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-3",children:s.map((h,d)=>{var g;return K.jsxs("div",{className:"p-5 bg-white rounded-lg shadow-md hover:shadow-lg transition",children:[K.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-1",children:h.name}),K.jsxs("p",{className:"text-gray-600",children:["📞 Phone: ",h.phoneNumber||"N/A"]}),K.jsxs("p",{className:"text-gray-600",children:["📚 Batch: ",h.batchTime||"N/A"]}),K.jsxs("p",{className:"text-gray-600",children:["📝 Score: ",h.score]}),K.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(g=h.timestamp)!=null&&g.seconds?new Date(h.timestamp.seconds*1e3).toLocaleString():"No timestamp"})]},d)})})]})},Xw=()=>{const[s,e]=zt.useState(""),[i,a]=zt.useState(!1),o=zt.useRef(null);zt.useEffect(()=>{(async()=>{const g=ki(Mn,"config","disclaimer"),_=await P0(g);_.exists()&&e(_.data().text||"")})()},[]),zt.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${o.current.scrollHeight}px`)},[s]);const h=async()=>{const d=ki(Mn,"config","disclaimer");await dc(d,{text:s}),a(!0),setTimeout(()=>a(!1),3e3)};return K.jsxs("div",{className:"min-h-screen bg-white px-4 py-10",children:[K.jsxs("div",{className:"mb-6 max-w-3xl mx-auto",children:[K.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:"📘 Edit Test Disclaimer"}),K.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be shown before the test starts."})]}),K.jsxs("div",{className:"max-w-3xl mx-auto",children:[K.jsx("textarea",{ref:o,value:s,onChange:d=>e(d.target.value),placeholder:"Chapter: Motion in One Dimension\\nMarks: 30\\nTime: 45 minutes",className:"w-full bg-gray-50 border border-gray-300 text-gray-800 rounded-xl px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-base leading-relaxed transition-all"}),K.jsx("button",{onClick:h,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-medium text-lg py-2.5 rounded-xl transition-all shadow",children:"💾 Save Disclaimer"})]}),i&&K.jsxs("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-5 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-fade-in",children:["✅ ",K.jsx("span",{className:"text-sm font-medium",children:"Disclaimer saved successfully!"})]}),K.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})},Zw=()=>{const[s,e]=zt.useState([]),[i,a]=zt.useState(!0),[o,h]=zt.useState(null),[d,g]=zt.useState(""),_=async()=>{const N=(await B0(Cc(Mn,"questions"))).docs.map(j=>({id:j.id,...j.data()}));e(N),a(!1)};zt.useEffect(()=>{_()},[]);const v=async S=>{window.confirm("Are you sure to delete this question?")&&(await RR(ki(Mn,"questions",S)),_())},A=async S=>{await SR(ki(Mn,"questions",S),{correctOption:d}),h(null),_()};return K.jsxs("div",{className:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow-lg",children:[K.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📚 All Uploaded Questions"}),i?K.jsx("p",{children:"Loading questions..."}):s.length===0?K.jsx("p",{children:"No questions found."}):K.jsx("div",{className:"space-y-6",children:s.map(S=>K.jsxs("div",{className:"border rounded-xl p-4 flex flex-col md:flex-row md:items-center gap-4",children:[K.jsx("div",{className:"flex-1",children:K.jsx("img",{src:S.imageUrl,alt:`Question ${S.id}`,className:"w-full md:w-64 h-auto rounded-lg"})}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsxs("p",{children:[K.jsx("strong",{children:"Correct Option:"})," ",S.correctOption]}),K.jsx("button",{onClick:()=>v(S.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded",children:"Delete"}),K.jsx("button",{onClick:()=>h(S.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-1 rounded",children:"Edit"}),o===S.id&&K.jsxs("div",{className:"flex gap-4 mt-4",children:[K.jsxs("select",{value:d,onChange:N=>g(N.target.value),className:"border p-2 rounded",children:[K.jsx("option",{value:"",children:"Select Correct Option"}),["A","B","C","D"].map(N=>K.jsx("option",{value:N,children:N},N))]}),K.jsx("button",{onClick:()=>A(S.id),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-1 rounded",children:"Save"})]})]})]},S.id))})]})},$w=({onLogin:s})=>{const[e,i]=zt.useState(""),[a,o]=zt.useState(""),h=()=>{e==="admin"&&a==="password"?s():alert("Invalid credentials!")};return K.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-200",children:K.jsxs("div",{className:"bg-white p-6 rounded-md shadow-md w-full max-w-sm",children:[K.jsx("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Admin Login"}),K.jsx("input",{type:"text",placeholder:"Username",className:"w-full p-3 mb-4 border rounded",value:e,onChange:d=>i(d.target.value)}),K.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-3 mb-4 border rounded",value:a,onChange:d=>o(d.target.value)}),K.jsx("button",{onClick:h,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Login"})]})})};function Jw(){const[s,e]=zt.useState(""),[i,a]=zt.useState(!1),[o,h]=zt.useState(""),[d,g]=zt.useState(""),_=S=>{const N=/(?:youtube\.com\/(?:.*v=|v\/|embed\/|live\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,j=S.match(N);return j?j[1]:null};zt.useEffect(()=>{const S=ki(Mn,"liveStream","currentLive"),N=wR(S,j=>{const X=j.data();X!=null&&X.isLive&&(X!=null&&X.url)?g(X.url):g("")});return()=>N()},[]);const v=async()=>{h("");const S=_(s);if(!S){h("❌ Please enter a valid YouTube link.");return}const N=`https://www.youtube.com/embed/${S}`;try{a(!0),await dc(ki(Mn,"liveStream","currentLive"),{url:N,isLive:!0,timestamp:B_()},{merge:!0}),alert("✅ Live class started!"),e("")}catch(j){console.error(j),h("⚠️ Failed to start live stream. Try again.")}finally{a(!1)}},A=async()=>{h("");try{a(!0);const S=ki(Mn,"liveStream","currentLive"),N=await P0(S);if(!N.exists()){h("⚠️ No active live stream found.");return}const j=N.data();if(!(j!=null&&j.url)){h("⚠️ No active live stream found.");return}await j0(Cc(Mn,"pastClasses"),{url:j.url,title:`Class on ${new Date().toLocaleDateString()}`,date:B_()}),await dc(S,{url:"",isLive:!1},{merge:!0}),alert("✅ Live class ended and saved.")}catch(S){console.error(S),h("❌ Failed to end live stream.")}finally{a(!1)}};return K.jsxs("div",{className:"p-6 max-w-xl mx-auto bg-white rounded-lg shadow-md mt-10",children:[K.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"🔴 Manage Live Class"}),o&&K.jsx("div",{className:"text-red-500 bg-red-100 px-4 py-2 rounded mb-4 text-sm",children:o}),K.jsx("label",{htmlFor:"youtubeLink",className:"block text-sm font-medium mb-1 text-gray-700",children:"YouTube Link:"}),K.jsx("input",{id:"youtubeLink",type:"text",value:s,onChange:S=>e(S.target.value),disabled:i,placeholder:"Paste any YouTube link here",className:"border w-full p-2 mb-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),K.jsxs("div",{className:"flex gap-4",children:[K.jsx("button",{onClick:v,disabled:i,"aria-label":"Start Live",className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded shadow disabled:opacity-50",children:i?"Loading...":"Start Live"}),K.jsx("button",{onClick:A,disabled:i,"aria-label":"End Live",className:"bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded shadow disabled:opacity-50",children:i?"Loading...":"End Live"})]}),K.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"You can paste any valid YouTube link (e.g., watch, share, live), and it will be converted automatically."}),d&&K.jsxs("div",{className:"mt-6",children:[K.jsx("h3",{className:"text-sm font-medium mb-2 text-gray-700",children:"📺 Currently Live:"}),K.jsx("iframe",{src:d,title:"Live Class",className:"w-full h-64 rounded",allow:"autoplay; encrypted-media",allowFullScreen:!0})]})]})}function Ww(){const[s,e]=zt.useState(!1),[i,a]=zt.useState("login"),o=()=>{if(!s)return K.jsx($w,{onLogin:()=>e(!0)});switch(i){case"results":return K.jsx(Y_,{});case"upload":return K.jsx(Kw,{});case"disclaimer":return K.jsx(Xw,{});case"questions":return K.jsx(Zw,{});case"live":return K.jsx(Jw,{});default:return K.jsx(Y_,{})}};return K.jsxs("div",{className:"min-h-screen bg-gray-100 w-full overflow-hidden flex flex-col",children:[s&&K.jsx("div",{className:"fixed w-full top-0 z-50",children:K.jsx(jT,{setActivePage:a})}),K.jsx("div",{className:"flex-grow mt-16 px-4 py-6",children:K.jsx("div",{className:"w-full h-full mx-auto px-4 sm:px-8",children:o()})})]})}BT.createRoot(document.getElementById("root")).render(K.jsx(zt.StrictMode,{children:K.jsx(Ww,{})}));
